{"version":3,"sources":["functions/throttle.js","functions/debounce.js","Components/ReadMore.js","Components/Loader.js","Components/Accordion.js","Data/initialFilter.js","Components/FormElements/NumberSelector.js","Components/FormElements/PeriodSelector.js","Components/ShareBtn.js","functions/formatNumber.js","functions/formatTitle.js","Components/OfficePostListItem.js","Components/OfficePostList.js","Components/SinglePost.js","Components/FormElements/OfficeFacilities.js","Components/FormElements/OfficeTypes.js","Components/FormElements/Capacity.js","Components/FormElements/CoWork.js","Components/FormElements/PriceRange.js","Components/FormElements/Orderby.js","Components/FormElements/SearchInput.js","Components/FormElements/CitySelector.js","Components/FormElements/RadioSelect.js","Components/FormElements/IndustrySelector.js","Components/FormElements/CheckboxSelect.js","Components/FilterForm.js","Components/ShortFilter.js","Components/NoPosts.js","App.js","Flexibles/OfficePostListMock.js","index.js"],"names":["throttle","func","limit","inThrottle","args","arguments","apply","this","setTimeout","debounce","delay","inDebounce","context","clearTimeout","ReadMore","props","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleResize","console","log","setState","innerHeight","calculateHeight","state","open","height","maxHeight","innerText","React","createRef","outerText","toggleShow","bind","assertThisInitialized","handleClick","clientHeight","window","addEventListener","removeEventListener","e","_this2","style","transition","overflow","react_default","a","createElement","Fragment","className","ref","node","children","parseInt","onClick","openText","closedText","Component","Loader","API_URL","process","Accordion","isOpen","elementHeight","accordionEl","toggleAccordion","insideHeight","scrollHeight","concat","contentStyle","label","dangerouslySetInnerHTML","__html","initialFilter","chosenTypeText","chosenType","id","name","capacity","coworkChecked","priceChanged","orderbyKey","orderbyTitle","selectedPeriod","period","startDate","endDate","selectedIndustry","selectedLocations","chosenFacilities","chosenFacilitiesText","chosenFacilitiesDefaultText","NumberSelector","validateValue","val","minVal","maxVal","triggerUpdate","onUpdate","isUsed","val1","val2","same","startVal","handleQuantityClick","handleInputChange","inputRef","debounceEvent","preventDefault","el","target","dataset","value","extraClass","disabledMin","disabledMax","data-val","type","inputMode","onChange","min","max","monthsBG","daysBG","registerLocale","localize","month","n","day","formatLong","PeriodSelector","handleUpdate","dateSet","date","periodSet","selected","updateParentState","handleRadioUpdate","chosen","periods","find","i","stateObj","getEndDate","toggleShowPopup","showPopup","onOpen","handleDateChange","obj","length","undefined","date2","Date","setMonth","getMonth","setDate","setHours","setMinutes","setSeconds","filterDates","dateMinusOne","getDate","isFirstDay","booked","bookedDates","dates","start","start_date","end","end_date","formattedDate","substr","addBookedDatesClass","popupContent","getBoundingClientRect","right","innerWidth","document","documentElement","clientWidth","edge","arr1","arr2","aProps","getOwnPropertyNames","bProps","propName","contains","nextMonthFirst","periodsMarkup","comp","map","key","htmlFor","checked","data-label","now","getFullYear","data-type","data-empty-text","es","inline","filterDate","minDate","dayClassName","locale","dateFormat","ShareBtn","handleKeydown","keyCode","buttonTitle","icon","formatNumber","num","fixed","decimalPart","isNaN","array","Math","floor","toString","split","index","splice","toFixed","join","formatTitle","string","replace","OfficePostListItem","toggleFavoutite","favourited","newSplash","postDate","getTime","favouriteBtn","user","loggedIn","toggleShowCowork","showCowork","onCarouselChange","currentSlide","post","handleLinkClick","postClicked","offices","handleOnDragStart","gallery","react_carousel_default","infinite","arrowLeft","arrowRight","addArrowClickHandler","offset","draggable","slice","react_router_dom","to","post_link","ID","backgroundImage","onDragStart","thumbnail","post_date","office_location","term_id","post_title","office_capacity","office_industry","office_price","cowork","text","coworkText","office_cowork","office_cowork_text","onMouseEnter","onMouseLeave","coworkBanner","OfficePostList","listRef","handleScrollEvent","throttleEvent","scrollTo","listScrolled","lazyLoadScroll","Event","dispatchEvent","trackScrolling","current","scrolled","pageYOffset","body","parentNode","scrollTop","setListScrollPosition","loadingMore","Components_Loader","Components_OfficePostListItem","SinglePost","IMAGES","getBookedDates","nonce","wpApiSettings","fetch","headers","X-WP-Nonce","content-type","then","response","ok","json","url","status","statusText","data","bookedDatestest","catch","error","stickyOnScroll","bookingBox","refTop","bookingRowTop","w","bookingBoxLeft","h","gal","galleryBox","bookingRow","top","left","postBot","postBottom","position","classList","add","remove","handleSubmitBooking","stateChanges","errors","periodInvalid","selectedPeople","numberInvalid","confirmationBoxOpen","loginModal","referer","slug","handleBookingRequest","people","method","JSON","stringify","code","random_elems","arr","count","len","lookup","tmp","random","push","isOwnPost","post_author","confirmationBox","closeBox","bookingboxHeading","bookingboxContent","year","post_author_name","bookingboxContentAfter","owner","relatedOffices","scrollToPost","getUserData","handleUpdatePeople","handleUpdatePeriod","throttleScroll","clearSingleOffice","post_name","getPostBySlug","ownerInterval","setInterval","availableOffices","filter","off","nextProps","_this3","_this4","clearInterval","newState","_this5","renderPost","numberClass","periodClass","img","relatedSection","Components_OfficePostList","scrollReached","newGallery","dots","data-bgset","bound","bookingRowLeft","bookingBoxTop","FormElements_NumberSelector","classname","FormElements_PeriodSelector","booked_dates","office_facilities","fac","office_types","office_size","Components_ReadMore","post_content","src","office_rules","Components_Accordion","Components_ShareBtn","OfficeFacilities","togglePopup","facilitiesFilter","handleCheckboxChange","facilities","officeFacilities","facilitiesMarkup","facility","includes","CoWork","handleCoworkClick","eventClick","stopPropagation","handleCoWorkChange","PriceRange","onClearFilter","sliderRef","noUiSlider","set","minPriceDefault","maxPriceDefault","throttleUpdate","values","minTemp","maxTemp","handleSet","handlePriceChange","handlePopupClick","minPrice","maxPrice","minDef","maxDef","nouislider_react_umd_production_min_default","instanceRef","instance","range","step","connect","onSet","Orderby","handleOrderChange","title","data-key","data-title","SearchInput","handleOnUpdate","handleOnClear","onClear","clearSearch","searchString","placeholder","CitySelector","popupOpen","Array","prototype","child","officeLocations","toConsumableArray","unescapeString","onSearchClear","onSearchUpdate","search","types","topLevelTypes","parent","RegExp","test","typesMarkup","topLevelTypesMarkup","currentType","startText","FormElements_SearchInput","RadioSelect","handleRadioChange","initialValue","defaultSelected","typesFilter","options","enableAll","unshift","allText","currentText","heading","CheckboxSelect","indexOf","FilterForm","handlePeriodUpdate","updateFilterValue","handleCityUpdate","handleNumberUpdate","onIndustryChange","IndustryText","handleTypeChange","handleFacilitiesChange","postCount","getOffices","foundCount","postsLoading","filterDataLoaded","FormElements_CitySelector","FormElements_RadioSelect","officeTypes","FormElements_PriceRange","showOfficePrice","FormElements_OfficeFacilities","FormElements_CheckboxSelect","industries","clearFilter","FormElements_CoWork","FormElements_Orderby","showOrderby","ShortFilter","OFFICE_URL","handleFormSubmit","filterValues","locations","sessionStorage","setItem","location","NoPosts","AbortController","App","getTaxonomyLocalstorage","storageLocations","localStorage","getItem","parse","diff","time","defineProperty","removeItem","setTaxonomyLocalstorage","storageObj","redirectToArchive","redirect","checkStatus","Promise","resolve","reject","Error","handleOfficesQueryData","more","posts","noOffices","loadedAll","foundPosts","objectSpread","getOfficeIndustries","getFromStorage","officeIndustries","evt","fetchController","signal","getData","getOfficeFacilities","getOfficeTypes","getOfficeLocations","checkLocalStorageInit","storage","changes","all","err","_this6","maybePost","_this7","abort","queryParts","toISOString","query","storageKey","storageOffices","updateTime","storageObject","_this8","buffer","bottom","officeList","_this9","Components_NoPosts","react_router","pathname","exact","path","render","Components_FilterForm","Components_SinglePost","match","params","Components_ShortFilter","OfficePostListMock","currentTarget","href","getAttribute","leftArrow","slides","perPage","rightArrow","ids","storageString","storageItem","slidesPerPage","slidesPerScroll","breakpoints","1367","441","centered","noLink","getElementById","ReactDOM","src_App","flexibles","getElementsByClassName","Flexibles_OfficePostListMock"],"mappings":"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","file":"static/js/main.3c527625.chunk.js","sourcesContent":["const throttle = (func, limit) => {\r\n    let inThrottle\r\n    return function() {\r\n        const args = arguments\r\n        const context = this\r\n        if (!inThrottle) {\r\n            func.apply(context, args)\r\n            inThrottle = true\r\n            setTimeout(() => inThrottle = false, limit)\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default throttle;","const debounce = (func, delay) => {\r\n    let inDebounce\r\n    return function() {\r\n        const context = this\r\n        const args = arguments\r\n        clearTimeout(inDebounce)\r\n        inDebounce = setTimeout(() => func.apply(context, args), delay)\r\n    }\r\n}\r\n\r\nexport default debounce;","import React, {Component} from 'react';\r\nimport throttle from '../functions/throttle';\r\nimport debounce from '../functions/debounce';\r\nclass ReadMore extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            open: false,\r\n            innerHeight: 0,\r\n            height: this.props.maxHeight,\r\n        };\r\n        this.innerText = React.createRef();\r\n        this.outerText = React.createRef();\r\n        this.toggleShow = this.toggleShow.bind(this);\r\n\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.calculateHeight = this.calculateHeight.bind(this);\r\n        //this.handleResize = this.handleResize.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            innerHeight: this.calculateHeight(),\r\n            height: this.outerText.clientHeight,\r\n        });\r\n\r\n        window.addEventListener('resize', this.handleResize);\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"resize\", this.handleResize);\r\n    }\r\n\r\n    handleResize = debounce(() => {\r\n        console.log('debounce')\r\n        this.setState({\r\n            innerHeight: this.calculateHeight(),\r\n        })\r\n    }, 200);\r\n\r\n    toggleShow() {\r\n        let open = this.state.open;\r\n\r\n        if(open){\r\n            this.setState({\r\n                height: this.outerText.clientHeight,\r\n                open: !this.state.open\r\n            })\r\n        } else{\r\n            this.setState({\r\n                height: this.state.innerHeight,\r\n                open: !this.state.open\r\n            })\r\n        }\r\n    }\r\n    calculateHeight() {\r\n        let height = this.innerText.clientHeight;\r\n        return height;\r\n    }\r\n\r\n    handleClick(e){\r\n\r\n    }\r\n    render() {\r\n        let comp = this;\r\n        let style = {\r\n            maxHeight: (this.state.open ? this.state.innerHeight : this.props.maxHeight),\r\n            transition: \".4s ease-out\",\r\n            overflow: 'hidden',\r\n        };\r\n        return(\r\n            <React.Fragment>\r\n                <div className={\"read-more \" + (this.state.open ? 'open' : 'closed')}>\r\n\r\n                    <div className={\"full-text\"} style={style} ref={(node) => this.outerText = node}>\r\n                        <div className=\"inner-text\" ref={(node) => this.innerText = node}>\r\n                            {this.props.children}\r\n                        </div>\r\n                    </div>\r\n                    {(this.state.innerHeight > parseInt(this.props.maxHeight)) &&\r\n                        <div className={\"toggle-btn\"} onClick={this.toggleShow}>\r\n                            {this.state.open ? this.props.openText : this.props.closedText}\r\n                            <span className=\"icon icomoon icon-arrow-down\"/>\r\n                        </div>\r\n                    }\r\n\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default ReadMore;\r\n\r\n\r\n","import React, {Component} from 'react';\r\n\r\nclass Loader extends Component {\r\n    API_URL = process.env.REACT_APP_API_URL;\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n\r\n        };\r\n    }\r\n\r\n    render(){\r\n\r\n        return (\r\n            <div className=\"office-list-spinner\">\r\n                <div className=\"sk-circle\">\r\n                    <div className=\"sk-circle1 sk-child\"/>\r\n                    <div className=\"sk-circle2 sk-child\"/>\r\n                    <div className=\"sk-circle3 sk-child\"/>\r\n                    <div className=\"sk-circle4 sk-child\"/>\r\n                    <div className=\"sk-circle5 sk-child\"/>\r\n                    <div className=\"sk-circle6 sk-child\"/>\r\n                    <div className=\"sk-circle7 sk-child\"/>\r\n                    <div className=\"sk-circle8 sk-child\"/>\r\n                    <div className=\"sk-circle9 sk-child\"/>\r\n                    <div className=\"sk-circle10 sk-child\"/>\r\n                    <div className=\"sk-circle11 sk-child\"/>\r\n                    <div className=\"sk-circle12 sk-child\"/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Loader;\r\n\r\n\r\n","import React, {Component} from 'react';\r\n\r\nclass Accordion extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isOpen: false,\r\n            elementHeight: '0px',\r\n        };\r\n        this.accordionEl = React.createRef();\r\n\r\n        this.toggleAccordion = this.toggleAccordion.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n\r\n    }\r\n    componentWillUnmount() {\r\n    }\r\n\r\n    toggleAccordion(){\r\n        let insideHeight = this.accordionEl.scrollHeight;\r\n        this.setState({\r\n            isOpen: !this.state.isOpen,\r\n            elementHeight: this.state.isOpen ? '0px' : `${insideHeight}px`\r\n        } )\r\n\r\n    }\r\n\r\n    render() {\r\n        let comp = this;\r\n\r\n        let contentStyle = {\r\n            maxHeight: this.state.elementHeight,\r\n            overflow: \"hidden\",\r\n            transition: \"max-height .2s ease-out\"\r\n        };\r\n\r\n        return(\r\n            <React.Fragment>\r\n                <div className={\"accordion-item \" + (this.state.isOpen ? 'open' : 'closed')}>\r\n\r\n                    <div className=\"accordion-title\" onClick={this.toggleAccordion}>\r\n                        {this.props.label}\r\n                        <span className=\"toggle-icon-box\"><span className=\"toggle-icon\"/></span>\r\n                    </div>\r\n                    <div className=\"accordion-content\" ref={(node) => this.accordionEl = node} style={contentStyle}>\r\n                        <div className=\"inner-content\" dangerouslySetInnerHTML={{__html: this.props.children}}/>\r\n                    </div>\r\n\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Accordion;\r\n\r\n\r\n","export const initialFilter = {\r\n\t// type filter\r\n\t// chosenType: 'all',\r\n\tchosenTypeText: 'Alle typer',\r\n\tchosenType: {\r\n\t\tid: 0,\r\n\t\tname: \"Alle typer\"\r\n\t},\r\n\r\n\t// capacity filter\r\n\tcapacity: 1,\r\n\r\n\t// Cowork filter\r\n\tcoworkChecked: false,\r\n\r\n\t// Price slider\r\n\tpriceChanged: false,\r\n\r\n\t// Orderby\r\n\torderbyKey: 'price_asc',\r\n\torderbyTitle: 'Pris lav til hj',\r\n\r\n\t// Period\r\n\tselectedPeriod: {\r\n\t\tperiod: false,\r\n\t\tstartDate: false,\r\n\t\tendDate: false\r\n\t},\r\n\r\n\t// Industries\r\n\tselectedIndustry: [],\r\n\r\n\t// Locations\r\n\tselectedLocations: [],\r\n\r\n\t// Facilities filter\r\n\tchosenFacilities: [],\r\n\tchosenFacilitiesText: 'Vlg faciliteter',\r\n\tchosenFacilitiesDefaultText: 'Vlg faciliteter',\r\n\r\n\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport default initialFilter;","import React, {Component} from 'react';\r\nimport debounce from '../../functions/debounce';\r\nimport initialFilter from \"../../Data/initialFilter\";\r\n\r\nclass NumberSelector extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            val: this.props.startVal || 0,\r\n        };\r\n        this.minVal = this.props.minVal || 0;\r\n        this.maxVal = this.props.maxVal || 999;\r\n        this.handleQuantityClick = this.handleQuantityClick.bind(this);\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.inputRef = React.createRef();\r\n        this.debounceEvent = debounce(this.triggerUpdate, 150);\r\n    }\r\n\r\n    validateValue = (val) => {\r\n        if(val <= this.minVal){\r\n            val = this.minVal;\r\n        }\r\n        if(val >= this.maxVal){\r\n            val = this.maxVal;\r\n        }\r\n        return val;\r\n    }\r\n    handleQuantityClick(e){\r\n        e.preventDefault();\r\n        let el = e.target;\r\n        let val = parseInt(el.dataset.val);\r\n        let currentVal = parseInt(this.state.val);\r\n        val = val+currentVal;\r\n        val = this.validateValue(val);\r\n        this.setState({\r\n            val: val\r\n        }, this.debounceEvent());\r\n\r\n    }\r\n    triggerUpdate = () => {\r\n        if(this.props.onUpdate){\r\n            this.props.onUpdate(this.state.val)\r\n        }\r\n    }\r\n    handleInputChange(){\r\n        let val = this.inputRef.value;\r\n        val = this.validateValue(val);\r\n        this.setState({\r\n            val: val\r\n        }, this.debounceEvent());\r\n    }\r\n    isUsed = () => {\r\n        let val1 = initialFilter.capacity;\r\n        let val2 = this.state.val;\r\n        let same = true;\r\n        if(parseInt(val1) < parseInt(val2)) {\r\n            same = false\r\n        }\r\n        return (same) ? 'not-used' : 'used';\r\n    }\r\n    render(){\r\n        let extraClass = this.props.className ? this.props.className : '';\r\n        let disabledMin = (this.state.val <= this.minVal) ? 'disabled' : '';\r\n        let disabledMax = (this.state.val >= this.maxVal) ? 'disabled' : '';\r\n        return (\r\n            <div className={`filter-element ${this.isUsed()} ${extraClass} `} id=\"office_capacity_filter\" >\r\n                <h4 className=\"filter-heading\">\r\n                    Personer\r\n                </h4>\r\n                <div className=\"input-wrap number-input\">\r\n                    <span className={\"minus quantity-btn \" + disabledMin} data-val=\"-1\" onClick={this.handleQuantityClick}></span>\r\n                    <input className=\"quantity-input\" type=\"number\" inputMode=\"numeric\" name=\"office_capacity\"\r\n                           id=\"office_capacity\" value={this.state.val} onChange={this.handleInputChange} ref={(node) => this.inputRef = node} min={this.minVal} max={this.maxVal}/>\r\n                    <span className={\"plus quantity-btn \" + disabledMax} data-val=\"1\" onClick={this.handleQuantityClick}>+</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default NumberSelector;\r\n\r\n\r\n","import React, {Component} from 'react';\r\nimport DatePicker, {registerLocale} from \"react-datepicker\";\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport initialFilter from \"../../Data/initialFilter\";\r\n\r\nconst monthsBG = ['Januar', 'Februar', 'Marts', 'April', 'Maj', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'December'];\r\nconst daysBG = ['man', 'tir', 'ons', 'tor', 'fre', 'lr', 'sn'];\r\n\r\nregisterLocale('da', {\r\n    localize: {\r\n        month: n => monthsBG[n],\r\n        day: n => daysBG[n]\r\n    },\r\n    formatLong:{}\r\n});\r\n\r\nclass PeriodSelector extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selected: (this.props.selected || {}),\r\n            showPopup: false,\r\n            date: false,\r\n            endDate: false,\r\n            edge: false,\r\n        };\r\n        this.node = React.createRef();\r\n        this.popupContent = React.createRef();\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n\r\n\r\n    componentWillMount() {\r\n        document.addEventListener(\"mousedown\", this.handleClick, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('mousedown', this.handleClick, false);\r\n    }\r\n\r\n    handleClick(e){\r\n        if(this.node.contains(e.target)){\r\n            // clicked inside\r\n            return;\r\n        }\r\n        if(this.state.showPopup === true){\r\n            this.toggleShowPopup();\r\n        }\r\n    }\r\n\r\n\r\n    handleUpdate = () => {\r\n        let dateSet = (this.state.date && this.state.endDate);\r\n        let periodSet = (this.state.selected && 'id' in this.state.selected);\r\n\r\n        if(dateSet && periodSet){\r\n            this.props.onUpdate({\r\n                period: this.state.selected,\r\n                startDate: this.state.date,\r\n                endDate: this.state.endDate,\r\n            })\r\n        } else if(periodSet){\r\n            if(this.props.updateParentState){\r\n                this.props.updateParentState(\r\n                    'selectedPeriod',\r\n                    {\r\n                        period: this.state.selected,\r\n                        startDate: false,\r\n                        endDate: false,\r\n                    }\r\n                )\r\n            } else{\r\n                this.props.onUpdate({\r\n                    period: this.state.selected,\r\n                    startDate: this.state.date,\r\n                    endDate: this.state.endDate,\r\n                })\r\n            }\r\n\r\n        }\r\n    };\r\n\r\n    handleRadioUpdate = (e) => {\r\n        let el = e.target;\r\n        let id = e.target.value;\r\n        let chosen = this.props.periods.find((i) => {\r\n            return parseInt(i.id) === parseInt(id);\r\n        });\r\n\r\n        let stateObj = {\r\n            selected: chosen,\r\n        };\r\n        if(this.state.date){\r\n            stateObj.endDate = this.getEndDate(this.state.date, chosen.id);\r\n        }\r\n        this.setState(stateObj, this.handleUpdate)\r\n\r\n    };\r\n\r\n    toggleShowPopup = () => {\r\n        if(this.state.showPopup !== true){\r\n            this.onOpen();\r\n        }\r\n        this.setState({\r\n            showPopup: !this.state.showPopup,\r\n        });\r\n    };\r\n\r\n    handleDateChange = (date) => {\r\n        let obj = {\r\n            date: date\r\n        };\r\n        if(this.state.selected && 'id' in this.state.selected){\r\n            let endDate = this.getEndDate(date);\r\n            obj.endDate = endDate;\r\n        }\r\n        this.setState(obj, this.handleUpdate)\r\n    };\r\n\r\n    getEndDate = (date, period = this.state.selected.id) => {\r\n        if(!this.state.selected && !period){\r\n            return false;\r\n        }\r\n        let date2 = new Date(date);\r\n        date2.setMonth(date.getMonth() + period); // add months\r\n        date2.setDate(1); // set date to first of month\r\n        date2.setHours(-1); // subtract one day to get last day of previous month\r\n        date2.setMinutes(59); // set minutes to 59 to be safe\r\n        date2.setSeconds(59);  // set seconds to 59 to be safe\r\n        return date2;\r\n    };\r\n\r\n    filterDates = (date) => {\r\n        let dateMinusOne = new Date(date);\r\n        dateMinusOne.setDate(dateMinusOne.getDate() - 1);\r\n        let isFirstDay = dateMinusOne.getMonth() !== date.getMonth();\r\n        let booked = false;\r\n        if(this.props.bookedDates){\r\n            let dates = this.props.bookedDates;\r\n            for (let i = 0; i < dates.length; i++) {\r\n                let start = new Date(dates[i].start_date);\r\n                let end = new Date(dates[i].end_date);\r\n                if(date > start && date < end){\r\n                    booked = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return isFirstDay && !booked;\r\n\r\n    };\r\n\r\n    formattedDate = (date) => {\r\n        if(!date){\r\n            return false;\r\n        }\r\n        const monthNames = [\r\n            \"Januar\", \"Februar\", \"Marts\",\r\n            \"April\", \"Maj\", \"Juni\",\r\n            \"Juli\", \"August\", \"September\",\r\n            \"Oktober\", \"November\", \"December\"\r\n        ];\r\n        let monthNum = date.getMonth();\r\n        let month = monthNames[monthNum].substr(0, 3);\r\n        let day = date.getDate();\r\n        return `${day}. ${month}.`;\r\n    };\r\n\r\n    addBookedDatesClass = (date) => {\r\n        let booked = false;\r\n        if(this.props.bookedDates){\r\n            let dates = this.props.bookedDates;\r\n            for (let i = 0; i < dates.length; i++) {\r\n                let start = new Date(dates[i].start_date);\r\n                let end = new Date(dates[i].end_date);\r\n                if(date > start && date < end){\r\n                    booked = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return booked ? 'booked' : undefined;\r\n    };\r\n\r\n    onOpen = () => {\r\n        let box = this.popupContent;\r\n        let bound = box.getBoundingClientRect();\r\n        if(bound.right > (window.innerWidth || document.documentElement.clientWidth)){\r\n            this.setState({\r\n                edge: true,\r\n            })\r\n        }\r\n    }\r\n\r\n    isUsed = () => {\r\n        let arr1 = initialFilter.selectedPeriod;\r\n        let arr2 = this.state.selected;\r\n\r\n        let aProps = Object.getOwnPropertyNames(arr1);\r\n        let bProps = Object.getOwnPropertyNames(arr2);\r\n        // If number of properties is different,\r\n        // objects are not equivalent\r\n        if (aProps.length !== bProps.length) {\r\n            return 'used';\r\n        }\r\n\r\n        for (let i = 0; i < aProps.length; i++) {\r\n            const propName = aProps[i];\r\n            // If values of same property are not equal,\r\n            // objects are not equivalent\r\n            if (arr1[propName] != arr2[propName]) {\r\n                return 'used';\r\n            }\r\n        }\r\n        return 'not-used';\r\n    }\r\n\r\n    render(){\r\n        let periodsMarkup = '';\r\n        let comp = this;\r\n        if(this.props.periods){\r\n            periodsMarkup = this.props.periods.map((period) => {\r\n                return(\r\n                    <label key={period.id} htmlFor={\"office_period\"+period.id}>\r\n                        <input type={\"radio\"} name={\"office_period\"} value={period.id} id={\"office_period\"+period.id} onChange={comp.handleRadioUpdate} checked={parseInt(comp.props.selected.period.id) === parseInt(period.id)} data-label={period.name}/>\r\n                        <span className=\"checkmark\"/>\r\n                        <span className=\"input-title\">\r\n                            {period.name}\r\n                        </span>\r\n                    </label>\r\n                )\r\n            })\r\n        }\r\n        let nextMonthFirst;\r\n        let now = new Date();\r\n        if (now.getMonth() === 11) {\r\n            nextMonthFirst = new Date(now.getFullYear() + 1, 0, 1);\r\n        } else {\r\n            nextMonthFirst = new Date(now.getFullYear(), now.getMonth() + 1, 1);\r\n        }\r\n\r\n        let endDate = null;\r\n        if(this.state.date && 'id' in this.state.selected){\r\n            endDate = new Date(this.state.date);\r\n            endDate.setMonth(endDate.getMonth() + this.state.selected.id); // add months\r\n            endDate.setDate(1); // set date to first of month\r\n            endDate.setHours(-1); // subtract one day to get last day of previous month\r\n        }\r\n\r\n        return (\r\n            <div className={`filter-element period-select input-popup type-radio ${this.isUsed()} ${this.props.className}`} data-type=\"radio\" ref={node => this.node = node}>\r\n                <h4 className=\"filter-heading\">\r\n                    Periode\r\n                </h4>\r\n                <div className=\"input-wrap\" onClick={this.toggleShowPopup}>\r\n                    <div className=\"chosen-value\" data-empty-text=\"Vlg periode\">\r\n                        {comp.props.selected.period !== false && this.state.date !== false ?\r\n                            this.state.selected.name + \" Fra \" + this.formattedDate(this.state.date) : \"Vlg periode\"\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className={`input-popup-content ` + (this.state.showPopup ? 'open' : 'closed')+ (this.state.edge === true ? ' edge' : '')} ref={node => this.popupContent = node}>\r\n                    <div className={\"periods\"}>\r\n                        {periodsMarkup}\r\n                    </div>\r\n                    <hr className={\"divider\"}/>\r\n                    <DatePicker\r\n                        inline\r\n                        selected={this.props.selected.startDate}\r\n                        onChange={this.handleDateChange}\r\n                        filterDate={this.filterDates}\r\n                        minDate={nextMonthFirst}\r\n                        startDate={this.props.selected.startDate}\r\n                        endDate={this.props.selected.endDate}\r\n                        dayClassName={this.addBookedDatesClass}\r\n                        locale={\"da\"}\r\n                        dateFormat={\"YYYY-MM-DD HH:MM:SS\"}\r\n\r\n                        />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default PeriodSelector;\r\n\r\n\r\n","import React, {Component} from 'react';\r\nclass ShareBtn extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            open: false,\r\n        };\r\n\r\n        this.toggleShow = this.toggleShow.bind(this);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.handleKeydown);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    handleKeydown = (e) => {\r\n        if((e.key === 'Escape' || e.keyCode == 27) && this.state.open === true){\r\n            this.toggleShow();\r\n        }\r\n    }\r\n    toggleShow() {\r\n        this.setState({\r\n            open: !this.state.open\r\n        })\r\n    }\r\n    handleClick(e){\r\n\r\n    }\r\n    render() {\r\n        let comp = this;\r\n        let style = {\r\n            maxHeight: (this.state.open ? this.state.innerHeight : this.props.maxHeight),\r\n            transition: \".4s ease-out\",\r\n            overflow: 'hidden',\r\n        };\r\n        return(\r\n            <React.Fragment>\r\n                <div className={\"share-overlay \" + (this.state.open ? 'open' : 'closed')} onClick={this.toggleShow}/>\r\n\r\n                <div className={\"share-modal \"+ (this.state.open ? 'open' : 'closed') }>\r\n                    <div className=\"close-btn\" onClick={this.toggleShow}/>\r\n                    <div className=\"inside-padding\">\r\n                        Hvad skal der ske her?\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={\"share-btn \" + (this.state.open ? 'open' : 'closed') } onClick={this.toggleShow}>\r\n                    <span className=\"btn\">\r\n                        <span className=\"btn-title\">\r\n                            {this.props.buttonTitle}\r\n                        </span>\r\n                        <span className={\"icomoon icon \" + this.props.icon }/>\r\n                    </span>\r\n\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default ShareBtn;\r\n\r\n\r\n","const formatNumber = ( num, fixed ) => {\r\n    var decimalPart;\r\n    num = parseInt(num);\r\n    if(isNaN(num)){\r\n        return 0;\r\n    }\r\n    var array = Math.floor(num).toString().split('');\r\n    var index = -3;\r\n    while ( array.length + index > 0 ) {\r\n        array.splice( index, 0, '.' );\r\n        index -= 4;\r\n    }\r\n\r\n    if(fixed > 0){\r\n        decimalPart = num.toFixed(fixed).split(\".\")[1];\r\n        return array.join('') + \",\" + decimalPart;\r\n    }\r\n    return array.join('');\r\n};\r\n\r\nexport default formatNumber;","const formatTitle = ( string ) => {\r\n    string = string.replace(/&amp;/g, '&');\r\n    return string;\r\n};\r\n\r\nexport default formatTitle;","// external\r\nimport React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport Carousel, { Dots } from '@brainhubeu/react-carousel';\r\nimport '@brainhubeu/react-carousel/lib/style.css';\r\n\r\n\r\n//  functions\r\nimport formatNumber from \"../functions/formatNumber\";\r\nimport formatTitle from '../functions/formatTitle';\r\n\r\nclass OfficePostListItem extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            favourited: ('favourited' in this.props.post) ? this.props.post.favourited : false,\r\n            currentSlide: 0,\r\n            showCowork: false,\r\n        };\r\n\r\n        this.handleLinkClick = this.handleLinkClick.bind(this);\r\n    }\r\n\r\n\r\n    handleLinkClick(e){\r\n        this.props.postClicked(e);\r\n    }\r\n\r\n    toggleFavoutite = () => {\r\n        this.setState({\r\n            favourited: !this.state.favourited,\r\n        })\r\n    }\r\n\r\n    newSplash = (postDate) => {\r\n\r\n        let date = new Date(postDate);\r\n        let now = new Date();\r\n        let timeDiff = now.getTime()- date.getTime();\r\n        let daysDiff = timeDiff / (1000 * 3600 * 24);\r\n        if(daysDiff < 40){\r\n            return (<span className={\"office-new-splash\"}>Nyhed</span> )\r\n        } else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    favouriteBtn = (favourited) => {\r\n        if(!this.props.user.loggedIn){\r\n            return null;\r\n        }\r\n        return (\r\n            <div className={\"favourite-post \"+(favourited ? 'active' : '')} onClick={this.toggleFavoutite}>\r\n                <span className={\"icon icomoon icon-hjerte-aktiv\"}  />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    toggleShowCowork = () => {\r\n        this.setState({\r\n            showCowork: !this.state.showCowork\r\n        })\r\n    };\r\n\r\n    onCarouselChange = value => this.setState({ currentSlide: parseInt(value) });\r\n\r\n    render(){\r\n        const offices = this.props.offices || [];\r\n\r\n        const coworkBanner = (cowork) => {\r\n            if(cowork === true || cowork === \"1\"){\r\n                return (\r\n                    <React.Fragment>\r\n                        <div className={\"cowork-banner\"} onMouseEnter={this.toggleShowCowork} onMouseLeave={this.toggleShowCowork} onClick={this.toggleShowCowork}>\r\n                            <span className=\"title\">\r\n                                Udlejer er interesseret i <u >co-working <span className={\"icon icomoon icon-info\"}/></u>\r\n                            </span>\r\n\r\n                        </div>\r\n\r\n                    </React.Fragment>\r\n                )\r\n            }\r\n        };\r\n        const coworkText = (cowork, text) => {\r\n            if( (cowork === true || cowork === \"1\" ) && text.length ){\r\n                return(\r\n                    <div className={`office-cowork-text ` + (this.state.showCowork ? 'open' : 'closed')}>\r\n                        {text}\r\n                    </div>\r\n                )\r\n            }\r\n\r\n        }\r\n        const post = this.props.post;\r\n        const handleOnDragStart = e => e.preventDefault();\r\n        let gallery = null;\r\n        if(post.gallery && post.gallery.length > 1){\r\n            gallery = <React.Fragment>\r\n                    <Carousel\r\n                        infinite={true}\r\n                        arrowLeft={<span className=\"slide-arrow slide-prev icon icomoon icon-arrow-left\" />}\r\n                        arrowRight={<span className=\"slide-arrow slide-next icon icomoon icon-arrow-right\" />}\r\n                        addArrowClickHandler\r\n                        offset={0}\r\n                        value={this.state.currentSlide}\r\n                        onChange={this.onCarouselChange}\r\n                        draggable={false}\r\n                    >\r\n                        {post.gallery.slice(0,5).map( (el,i) => {\r\n                            let slide;\r\n                            if(i === 0){\r\n                                slide = <Link to={post.post_link} onClick={this.handleLinkClick} key={`${post.ID}_${i}`} className={\"slide\"} style={{backgroundImage: \"url(\"+el+\")\"}} onDragStart={handleOnDragStart}/>\r\n                            } else{\r\n                                slide = <Link to={post.post_link} onClick={this.handleLinkClick} key={`${post.ID}_${i}`} className={\"slide\"} style={{backgroundImage: \"url(\"+el+\")\"}} onDragStart={handleOnDragStart}/>\r\n                            }\r\n                            return slide;\r\n                        })}\r\n                    </Carousel>\r\n\r\n\r\n                </React.Fragment>\r\n        } else{\r\n            gallery = <Link to={post.post_link} className=\"image\" style={{backgroundImage: post.thumbnail ? 'url('+post.thumbnail+')':'none'}} />\r\n        }\r\n        return (\r\n            <React.Fragment>\r\n                <article key={post.ID} id={\"office-\"+post.ID} className=\"single-post single-office\">\r\n                    <div className=\"post-images\">\r\n                        {this.newSplash(post.post_date)}\r\n                        { /*this.favouriteBtn(this.state.favourited)*/ }\r\n                            {gallery}\r\n                    </div>\r\n                    <div className={\"content-wrap\"}>\r\n                        <div className=\"office-area\">\r\n                            {post.office_location !== false ? (\r\n                                post.office_location.map((el) => {\r\n                                    return <span className=\"term\" key={post.ID+'_'+el.term_id}>{el.name}</span>\r\n                                })\r\n                            ): null}\r\n                        </div>\r\n                        <div className=\"office-title\">\r\n                            <Link to={post.post_link} onClick={this.handleLinkClick}>\r\n                                <h2 className=\"post-title\">{post.post_title}</h2>\r\n                            </Link>\r\n                        </div>\r\n                        <div className=\"office-meta\">\r\n                            <div className=\"icons\">\r\n                                <div className=\"calendar office-icon\" key={\"calendar\"}>\r\n                                    <span className=\"icomoon icon-kalender\" >\r\n                                    </span>\r\n                                    <span className=\"icons-title\">\r\n                                        Min. 6 mdr.\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"capacity office-icon\" key={\"capacity\"}>\r\n                                    <span className=\"icomoon icon-profil2\" >\r\n                                    </span>\r\n                                    <span className=\"icons-title\">\r\n                                        {post.office_capacity}\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"business office-icon\" key={\"business\"}>\r\n                                    <span className=\"icomoon icon-taske\" >\r\n                                    </span>\r\n                                    <span className=\"icons-title\">\r\n                                        {'office_industry' in post && post.office_industry !== false && post.office_industry.length > 0 ? formatTitle(post.office_industry[0].name) : 'branche'}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            {post.office_price !== false ? (\r\n                                <div className=\"office-price\">\r\n                                    <span className=\"price-prefix\" key={\"price-prefix\"}>\r\n                                        Pris fra: </span>\r\n                                    <span className=\"price-text\" key={\"price-text\"}>\r\n                                        {formatNumber(post.office_price)},- pr. mdr. pr. person\r\n                                    </span>\r\n                                </div>\r\n                            ): ''}\r\n                        </div>\r\n                        {coworkText( post.office_cowork, post.office_cowork_text) }\r\n                    </div>\r\n                    {coworkBanner(post.office_cowork)}\r\n\r\n                </article>\r\n\r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default OfficePostListItem;\r\n","// external\r\nimport React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\n// Components\r\nimport OfficePostListItem from './OfficePostListItem';\r\nimport Loader from './Loader';\r\n\r\n// functions\r\nimport throttle from '../functions/throttle';\r\n\r\nclass OfficePostList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n\r\n        };\r\n        this.listRef = React.createRef();\r\n\r\n        this.handleScrollEvent = this.handleScrollEvent.bind(this);\r\n        this.postClicked = this.postClicked.bind(this);\r\n        this.throttleEvent = throttle(this.handleScrollEvent, 500);\r\n    }\r\n\r\n    // TODO: move scroll events to OfficeList component (create component)\r\n    componentDidMount() {\r\n        console.log('componentDidMount')\r\n        document.addEventListener('scroll', this.throttleEvent);\r\n        window.scrollTo(0, this.props.listScrolled);\r\n\r\n        let lazyLoadScroll = new Event('scroll');\r\n        window.dispatchEvent(lazyLoadScroll);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('scroll', this.throttleEvent);\r\n    }\r\n\r\n    handleScrollEvent() {\r\n        if(this.props.trackScrolling){\r\n            this.props.trackScrolling(this.listRef.current);\r\n        }\r\n    }\r\n\r\n    postClicked(e){\r\n        let scrolled = window.pageYOffset || (document.documentElement || document.body.parentNode || document.body).scrollTop;\r\n        if(this.props.setListScrollPosition){\r\n            this.props.setListScrollPosition(scrolled);\r\n        }\r\n    }\r\n\r\n\r\n    render(){\r\n        const offices = this.props.offices || [];\r\n\r\n        const coworkBanner = (cowork) => {\r\n            if(cowork === true || cowork === \"1\"){\r\n                return (\r\n                    <div className={\"cowork-banner\"}>\r\n                        <span className=\"title\">\r\n                            Udlejer er interesseret i <u>co-working</u>\r\n                        </span>\r\n                    </div>\r\n                )\r\n            }\r\n        };\r\n        let loadingMore;\r\n        if(this.props.loadingMore === true ){\r\n            loadingMore = <Loader/>\r\n        }\r\n\r\n        return (\r\n            <React.Fragment>\r\n\r\n                <div id={\"office-list\"} ref={this.listRef}>\r\n                    {offices.map((post) =>\r\n                        <OfficePostListItem\r\n                            key={post.ID}\r\n                            post={post}\r\n                            postClicked={this.postClicked}\r\n                            user={this.props.user}\r\n                        />\r\n\r\n                    )}\r\n                </div>\r\n                {loadingMore}\r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default OfficePostList;\r\n","// external\r\nimport React, {Component} from 'react';\r\nimport Carousel, { Dots } from '@brainhubeu/react-carousel';\r\nimport '@brainhubeu/react-carousel/lib/style.css';\r\n\r\n// components\r\nimport ReadMore from './ReadMore';\r\nimport Loader from './Loader';\r\nimport Accordion from './Accordion'\r\nimport NumberSelector from \"./FormElements/NumberSelector\";\r\nimport PeriodSelector from \"./FormElements/PeriodSelector\";\r\nimport ShareBtn from \"./ShareBtn\";\r\n\r\n// functions\r\nimport formatNumber from \"../functions/formatNumber\";\r\nimport OfficePostList from \"./OfficePostList\";\r\nimport throttle from \"../functions/throttle\";\r\n\r\n\r\nclass SinglePost extends Component {\r\n    API_URL = process.env.REACT_APP_API_URL;\r\n    IMAGES = process.env.REACT_APP_IMAGE_FOLDER;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            owner: false,\r\n            selectedPeople: 1,\r\n            //selectedPeriod: false,\r\n            selectedPeriod: {\r\n                period: false,\r\n                startDate: false,\r\n                endDate: false\r\n            },\r\n            favourited: false,\r\n            startDate: false,\r\n            endDate: false,\r\n            bookedDates: false,\r\n            relatedOffices:[],\r\n            numberInvalid: false,\r\n            periodInvalid: false,\r\n            confirmationBoxOpen: false,\r\n        };\r\n        // ref\r\n        this.bookingBox = React.createRef();\r\n        this.galleryBox = React.createRef();\r\n        this.bookingRow = React.createRef();\r\n\r\n        // methods\r\n        this.scrollToPost = this.scrollToPost.bind(this);\r\n        this.getUserData =  this.getUserData.bind(this);\r\n        this.handleUpdatePeople = this.handleUpdatePeople.bind(this);\r\n        this.handleUpdatePeriod = this.handleUpdatePeriod.bind(this);\r\n        this.throttleScroll = throttle(this.stickyOnScroll, 100);\r\n    }\r\n\r\n    componentWillMount() {\r\n\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        document.removeEventListener('scroll', this.throttleScroll)\r\n        this.props.clearSingleOffice();\r\n    }\r\n\r\n    componentDidMount() {\r\n        let comp = this;\r\n        if(!this.props.post || ('ID' in this.props.post) === false || ( this.props.slug !== this.props.post.post_name ) ){\r\n            this.props.clearSingleOffice();\r\n            this.props.getPostBySlug(this.props.slug)\r\n            this.getBookedDates(this.props.post.ID);\r\n\r\n        }\r\n        const scrollEvent = document.addEventListener('scroll', this.throttleScroll)\r\n\r\n        this.ownerInterval = setInterval(function(){\r\n            comp.getUserData(comp.props.post.post_author);\r\n        }, 2000)\r\n\r\n        this.scrollToPost();\r\n\r\n        let availableOffices = this.props.offices.filter( (off) => {\r\n            return off.ID !== this.props.post.ID;\r\n        });\r\n        availableOffices = this.random_elems(availableOffices, 4);\r\n        this.setState({\r\n            relatedOffices: availableOffices,\r\n        });\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n\r\n        if(nextProps.offices.length > 0 && this.state.relatedOffices.length === 0){\r\n            let availableOffices = nextProps.offices.filter( (off) => {\r\n                return off.ID !== this.props.post.ID;\r\n            });\r\n            availableOffices = this.random_elems(availableOffices, 4);\r\n            this.setState({\r\n                relatedOffices: availableOffices,\r\n            });\r\n        }\r\n\r\n    }\r\n    toggleFavoutite = () => {\r\n        this.setState({\r\n            favourited: !this.state.favourited,\r\n        })\r\n    }\r\n    getBookedDates = (id) => {\r\n        let nonce = window.wpApiSettings.nonce;\r\n        if(!id){\r\n            return;\r\n        }\r\n        fetch(`${this.API_URL}officely/v2/officebookings/${id}`,\r\n            {\r\n                headers: {\r\n                    'X-WP-Nonce': nonce,\r\n                    'content-type': 'application/json'\r\n                },\r\n            })\r\n            .then((response) => {\r\n                    if(response.ok === true){\r\n                        return response.json();\r\n                    } else{\r\n                        console.log(response.url+\": \"+response.status+\" - \"+response.statusText)\r\n                        return false;\r\n                    }\r\n                }\r\n            )\r\n            .then(data => {\r\n                console.log(data);\r\n                if(data !== false){\r\n                    this.setState({\r\n                        bookedDatestest: data,\r\n                    })\r\n                }\r\n                return data;\r\n            })\r\n            .catch(error => {\r\n                console.error(\"Error when fetching: \", error);\r\n            })\r\n    }\r\n    stickyOnScroll = (e) => {\r\n        let ref = this.bookingBox;\r\n        let refTop = this.bookingRowTop;\r\n        let left = this.bookingBoxLeft;\r\n        let w = ref.clientWidth;\r\n        let h = ref.clientHeight;\r\n        let gal = this.galleryBox;\r\n\r\n        if(this.bookingRow !== null){\r\n            refTop = this.bookingRow.getBoundingClientRect().top;\r\n            left = this.bookingRow.clientWidth + this.bookingRow.getBoundingClientRect().left - w;\r\n        }\r\n\r\n\r\n        let postBot = this.postBottom;\r\n\r\n        let currentScroll = window.pageYOffset; // get current position\r\n\r\n        if((postBot - h) <= currentScroll) { // scrolled further than bottom\r\n            ref.style.position = \"absolute\";\r\n            ref.style.top = (postBot - h)+'px';\r\n            gal.style.height = h+'px';\r\n            ref.classList.add('fixed');\r\n\r\n        } else if (refTop <= 0) {           // apply position: fixed\r\n            ref.style.position = \"fixed\";\r\n            ref.style.top = '0';\r\n            //ref.style.left = left+'px';\r\n            //ref.style.width = w+'px';\r\n            ref.style.height = h+'px';\r\n            ref.classList.add('fixed');\r\n            gal.style.height = h+'px';\r\n\r\n\r\n        } else {                                   // apply position: relative\r\n            ref.style.position = 'relative';\r\n            //ref.style.left = '0';\r\n            //ref.style.width = '';\r\n            ref.style.height = '';\r\n            gal.style.height = 'auto';\r\n            ref.classList.remove('fixed');\r\n        }\r\n\r\n    };\r\n    getUserData(id){\r\n        if(!id){\r\n            return;\r\n        }\r\n        fetch(`${this.API_URL}officely/v2/officeowner/${id}`)\r\n            .then((response) => {\r\n                    return response.json()\r\n                }\r\n            )\r\n            .then(data => {\r\n                if(data != false ){\r\n                    if(this.props.post.post_author === id){\r\n                        this.setState({\r\n                            owner: data,\r\n                        })\r\n                    }\r\n                    clearInterval(this.ownerInterval);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error(\"Error when fetching: \", error);\r\n            })\r\n    }\r\n\r\n    scrollToPost() {\r\n        // let ele = this.postRef.current;\r\n        // let eleOffset = ele.offsetTop;\r\n        window.scrollTo(0, 0);\r\n    }\r\n\r\n    handleUpdatePeople(val){\r\n        this.setState({\r\n            selectedPeople: val,\r\n            numberInvalid: false,\r\n        });\r\n    }\r\n\r\n    handleUpdatePeriod(selected){\r\n        console.log(selected);\r\n        let newState = {\r\n            selectedPeriod: {\r\n                period: selected.period,\r\n                startDate: selected.startDate,\r\n                endDate: selected.endDate,\r\n            },\r\n        };\r\n        if(selected.startDate !== false && selected.endDate !== false){\r\n            newState.periodInvalid = false;\r\n        }\r\n        this.setState(newState);\r\n\r\n    }\r\n\r\n    newSplash = (postDate) => {\r\n\r\n        let date = new Date(postDate);\r\n        let now = new Date();\r\n        let timeDiff = now.getTime()- date.getTime();\r\n        let daysDiff = timeDiff / (1000 * 3600 * 24);\r\n        if(daysDiff < 40){\r\n            return (<span className={\"office-new-splash\"}>Nyhed</span> )\r\n        } else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    handleSubmitBooking = () => {\r\n\r\n        if(!window.wpApiSettings.loggedIn){\r\n            let loginModal = new Event('showLoginModal',{referer: this.props.slug});\r\n            window.dispatchEvent(loginModal);\r\n        } else{\r\n            let stateChanges = {};\r\n            let errors = false;\r\n            if(this.state.selectedPeriod.startDate === false || this.state.selectedPeriod.endDate === false){\r\n                stateChanges.periodInvalid = true;\r\n                errors = true;\r\n            }\r\n            if(this.state.selectedPeople < 1 || this.state.selectedPeople === false) {\r\n                stateChanges.numberInvalid = true;\r\n                errors = true;\r\n            }\r\n\r\n            if(errors === false){\r\n               this.setState({\r\n                   confirmationBoxOpen: true,\r\n               })\r\n            } else{\r\n                // submit had errors\r\n                this.setState(stateChanges);\r\n            }\r\n        }\r\n    }\r\n\r\n    handleBookingRequest = () => {\r\n        let nonce = window.wpApiSettings.nonce;\r\n        let people = this.state.selectedPeople;\r\n        let period = this.state.selectedPeriod.period.id;\r\n        let startDate = this.state.selectedPeriod.startDate;\r\n        let endDate = this.state.selectedPeriod.endDate;\r\n        console.log(people, period, startDate, endDate);\r\n        if(people === undefined || people == null){\r\n            return false;\r\n        }\r\n        if(period === undefined || period === null){\r\n            return false;\r\n        }\r\n        if(startDate === undefined || startDate === null || startDate === false){\r\n            return false;\r\n        }\r\n        if(endDate === undefined || endDate === null || endDate === false){\r\n            return false;\r\n        }\r\n        let data = {\r\n            people: people,\r\n            period: period,\r\n            startDate: startDate,\r\n            endDate: endDate\r\n        }\r\n        fetch(`${this.API_URL}officely/v2/submitbooking/${this.props.post.ID}`,\r\n            {\r\n                method: \"POST\",\r\n                headers: {\r\n                    //'Accept': 'application/json',\r\n                    'X-WP-Nonce': nonce,\r\n                    //'content-type': 'application/json'\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data);\r\n                if(data.code)\r\n                if(data !== false){\r\n                    // TODO: booking added, disable button?\r\n                }\r\n\r\n            })\r\n            .catch(error => {\r\n                console.error(\"Error when fetching: \", error);\r\n            })\r\n\r\n\r\n\r\n        //alert(\"new booking request \\n \\n Personer: \" + this.state.selectedPeople + \"\\n\\n Periode: \"+this.state.selectedPeriod.name+\"\\n\\n Start: \"+this.state.startDate+\"\\n\\n Slut: \"+this.state.endDate)\r\n    };\r\n\r\n    random_elems = (arr, count) => {\r\n        let len = arr.length;\r\n        let lookup = {};\r\n        let tmp = [];\r\n\r\n        if (count > len)\r\n            count = len;\r\n\r\n        for (let i = 0; i < count; i++) {\r\n            let index;\r\n            do {\r\n                index = ~~(Math.random() * len);\r\n            } while (index in lookup);\r\n            lookup[index] = null;\r\n            tmp.push(arr[index]);\r\n        }\r\n\r\n        return tmp;\r\n    }\r\n\r\n    isOwnPost = () => {\r\n        if(window.wpApiSettings.loggedIn !== true){\r\n            return false;\r\n\r\n        }\r\n\r\n        let user = parseInt(window.wpApiSettings.id);\r\n        let author = parseInt(this.props.post.post_author);\r\n        return author === user;\r\n    };\r\n    confirmationBox = (open, data) => {\r\n        let closeBox = () => {\r\n            this.setState({\r\n                confirmationBoxOpen: false,\r\n            })\r\n        }\r\n        let formattedDate = (date) => {\r\n            if(!date){\r\n                return false;\r\n            }\r\n            const monthNames = [\r\n                \"Januar\", \"Februar\", \"Marts\",\r\n                \"April\", \"Maj\", \"Juni\",\r\n                \"Juli\", \"August\", \"September\",\r\n                \"Oktober\", \"November\", \"December\"\r\n            ];\r\n            date = new Date(date);\r\n            let year = date.getFullYear();\r\n            let monthNum = date.getMonth();\r\n            let month = monthNames[monthNum].substr(0, 3);\r\n            let day = date.getDate();\r\n            return `${day}. ${month}. ${year}`;\r\n        };\r\n        return(\r\n            <React.Fragment>\r\n                <div className={`booking-confirmation-modal-overlay ${open ? 'open' : ''}` } onClick={closeBox}/>\r\n                <div className={`booking-confirmation-modal ${open ? 'open' : ''}`}>\r\n                    <h3 className=\"modal-heading\" dangerouslySetInnerHTML={{__html: window.wpApiSettings.bookingboxHeading}} />\r\n                    <div className=\"inside-padding\">\r\n\r\n                        <span className=\"close-btn\" onClick={closeBox}/>\r\n                        <div className=\"content\">\r\n                            <div dangerouslySetInnerHTML={{__html: window.wpApiSettings.bookingboxContent}} />\r\n                            Periode: {data.period.name}\r\n                            Start: {formattedDate(data.startDate)}\r\n                            Kontor: {data.post.post_title}\r\n                            Udlejer: {data.post.post_author_name}\r\n                            <div dangerouslySetInnerHTML={{__html: window.wpApiSettings.bookingboxContentAfter}} />\r\n                            <button onClick={this.handleBookingRequest}>Send anmodning</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render(){\r\n        let post = this.props.post;\r\n        let owner = this.state.owner;\r\n        let comp = this;\r\n        let renderPost = null;\r\n        let numberClass = this.state.numberInvalid ? 'invalid' : '';\r\n        let periodClass = this.state.periodInvalid ? 'invalid' : '';\r\n\r\n\r\n        let gallery = null;\r\n        if('gallery' in this.props.post && this.props.post.gallery !== false && this.props.post.gallery !== null && typeof this.props.post.gallery !== \"undefined\" ){\r\n            gallery = this.props.post.gallery.map((img, i) => {\r\n                let style = {\r\n                    backgroundImage: 'url('+img+')',\r\n                };\r\n                return (<div key={this.props.post.ID+\"+slide-no-\"+i} className={\"slide\"}><div className={\"image-slide\"} style={style}/></div>)\r\n            })\r\n\r\n\r\n        } else{\r\n            let style = {\r\n                backgroundImage: 'url(https://images.unsplash.com/photo-1497366754035-f200968a6e72?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80)',\r\n            };\r\n            gallery =  <div key={\"+slide-placeholder\"} className={\"slide\"}> <div className={\"image-slide\"} style={style}/></div>\r\n        }\r\n        let relatedSection = null;\r\n        if(this.state.relatedOffices.length > 0){\r\n\r\n            relatedSection = (\r\n                <div className=\"related-offices\">\r\n\r\n                    <div className=\"container-fluid\">\r\n                        <div className=\"heading-box\">\r\n                            <h2 className={\"heading\"}>Andre populre emner der matcher din sgning</h2>\r\n                        </div>\r\n                        <OfficePostList\r\n                            loadingMore={this.state.loadingMore}\r\n                            offices={this.state.relatedOffices}\r\n                            listScrolled={this.state.listScrolled}\r\n                            trackScrolling={this.trackScrolling}\r\n                            scrollReached={this.scrollReached}\r\n                            setListScrollPosition={this.setListScrollPosition}\r\n                            user={this.props.user}\r\n                        />\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            )\r\n        }\r\n        let newGallery = null;\r\n        const handleOnDragStart = e => e.preventDefault()\r\n        if('gallery' in this.props.post &&\r\n            this.props.post.gallery !== false &&\r\n            this.props.post.gallery !== null &&\r\n            typeof this.props.post.gallery !== \"undefined\" &&\r\n            this.props.post.gallery.length > 1\r\n        ){\r\n            newGallery = (\r\n                <React.Fragment>\r\n                    <Carousel\r\n                        infinite\r\n                        dots\r\n                        offset={0}\r\n                        arrowLeft={<span className=\"slide-arrow slide-prev icon icomoon icon-arrow-left\" />}\r\n                        arrowRight={<span className=\"slide-arrow slide-next icon icomoon icon-arrow-right\" />}\r\n                        addArrowClickHandler\r\n                    >\r\n                        {post.gallery.map( (el,i) => {\r\n                            return (\r\n                                <div key={`${post.ID}_${i}`} className={\"slide lazyload\"} data-bgset={el} style={{backgroundImage: \"url(\"+el+\")\"}} onDragStart={handleOnDragStart}/>\r\n                            )\r\n                        })}\r\n                        </Carousel>\r\n                </React.Fragment>\r\n                )\r\n        } else{\r\n            newGallery = <div className={\"placeholder-gallery\"} style={{backgroundImage: 'url(https://images.unsplash.com/photo-1497366754035-f200968a6e72?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80)' }}/>;\r\n        }\r\n\r\n        if('ID' in post){\r\n            renderPost = (\r\n                <React.Fragment>\r\n                    {this.confirmationBox(this.state.confirmationBoxOpen, {\r\n                        period: this.state.selectedPeriod.period,\r\n                        startDate: this.state.selectedPeriod.startDate,\r\n                        post: post\r\n                    })}\r\n                    <div id={\"post-\"+post.ID} className={\"single-office\"} ref={(node) => {\r\n                        if(node !== null){\r\n                            let bound = node.getBoundingClientRect();\r\n                            this.postBottom = node.clientHeight;\r\n                        }\r\n\r\n                    }}>\r\n\r\n                        <div className=\"flex-row booking\" ref={(node) => {\r\n                            if(node !== null){\r\n                                this.bookingRow = node;\r\n                                let bound =  node.getBoundingClientRect()\r\n                                this.bookingRowTop = bound.top;\r\n                                this.bookingRowLeft = bound.left;\r\n                            }\r\n                        }}>\r\n                            <div className=\"gallery\" ref={(node) => {\r\n                                this.galleryBox = node;\r\n                            }}>\r\n                                {/*!!window.wpApiSettings.loggedIn &&\r\n                                    <div className={\"favourite-post \" + (this.state.favourited ? 'active' : '')} onClick={this.toggleFavoutite}>\r\n                                        <span className={\"icon icomoon icon-hjerte-aktiv\"}  />\r\n                                    </div>\r\n                                */}\r\n                                <div className=\"image-wrap\" >\r\n                                    {newGallery}\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"booking-content\" ref={(node) => {\r\n                                this.bookingBox = node;\r\n                                if(node !== null){\r\n                                    let bound =  node.getBoundingClientRect()\r\n                                    this.bookingBoxTop = bound.top;\r\n                                    this.bookingBoxLeft = bound.left;\r\n                                }\r\n\r\n                            }}>\r\n                                <div className=\"inside-booking-content\">\r\n                                    {this.newSplash(post.post_date)}\r\n                                    <h1 className=\"post-title\">{post.post_title}</h1>\r\n\r\n                                    <NumberSelector\r\n                                        onUpdate={this.handleUpdatePeople}\r\n                                        minVal={1}\r\n                                        startVal={1}\r\n                                        maxVal={post.office_capacity}\r\n                                        classname={numberClass}\r\n                                        />\r\n\r\n\r\n                                    <PeriodSelector\r\n                                        periods={this.props.periods}\r\n                                        onUpdate={this.handleUpdatePeriod}\r\n                                        bookedDates={post.booked_dates}\r\n                                        selected={this.state.selectedPeriod}\r\n                                        className={periodClass}\r\n                                    />\r\n\r\n\r\n                                    <div className=\"office-price\">\r\n\r\n                                        <span className=\"price-val\">\r\n                                            {formatNumber(post.office_price, 0)},-\r\n                                        </span>\r\n                                        <span className=\"price-text\">\r\n                                             / pr. mdr.\r\n                                        </span>\r\n                                    </div>\r\n\r\n                                    <div className=\"safety-notice\">\r\n                                        <p>Aftalen er frst i hus nr i begge har godkendt aftalen. Og bare rolig du betaler ikke fr alt er p plads!</p>\r\n                                    </div>\r\n                                </div>\r\n                                {!this.isOwnPost() &&\r\n                                    <div className=\"booking-btn\">\r\n                                        <button className={\"btn yellow\"} onClick={this.handleSubmitBooking}>\r\n                                            Send anmodning\r\n                                            <span className=\"icon icomoon icon-right\"/>\r\n                                        </button>\r\n                                    </div>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"grid-container office-sections section-box\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-sm-12 col-md-8\">\r\n\r\n                                    <div className=\"post-location\">\r\n                                        <div className=\"location\">\r\n                                            {post.office_location !== false ? (\r\n                                                post.office_location.map((el) => {\r\n                                                    return <span className=\"term\" key={post.ID+'_'+el.term_id}>{el.name}</span>\r\n                                                })\r\n                                            ): null}\r\n\r\n                                        </div>\r\n\r\n                                    </div>\r\n\r\n                                    {post.office_facilities.length > 0 &&\r\n                                        <div className=\"facilities office-section section-box\">\r\n                                            <h2 className=\"facilities-title section-title\">\r\n                                                Faciliteter\r\n                                            </h2>\r\n                                            <div className=\"facilities-wrap\">\r\n                                                {post.office_facilities.map((fac) => {\r\n                                                    return (<div className={\"single-facility\"} key={fac.term_id}> <div className=\"checkmark icomoon icon-checkmark\"/> <span className=\"title\">{fac.name}</span> </div> );\r\n                                                })}\r\n                                            </div>\r\n                                        </div>\r\n                                    }\r\n\r\n                                    <div className=\"about office-section section-box\">\r\n                                        <h2 className=\"about-title section-title\">\r\n                                            Om lejemlet\r\n                                        </h2>\r\n                                        <table className={\"simple-data\"}>\r\n                                            <tbody>\r\n                                            {('office_types' in post && post.office_types.length) ?\r\n                                                <tr className={\"type\"}>\r\n                                                    <td className={\"name\"}>Kontortype:</td>\r\n                                                    <td className=\"value\">{post.office_types[0].name}</td>\r\n                                                </tr>\r\n                                            : null}\r\n\r\n                                            {('office_size' in post && post.office_size) ?\r\n\r\n                                                <tr className=\"area\">\r\n                                                    <td className=\"name\">Areal:</td>\r\n                                                    <td className=\"value\">{post.office_size}m<sup>2</sup></td>\r\n                                                </tr>\r\n\r\n                                            : null}\r\n\r\n                                            <tr className=\"location\">\r\n                                                <td className=\"name\">Beliggenhed:</td>\r\n                                                <td className=\"value\">Amagerflledvej, Kbenhavn (placeholder, mangler data)</td>\r\n                                            </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                        <h2 className=\"office-title\">\r\n                                            {post.post_title}\r\n                                        </h2>\r\n                                        <ReadMore\r\n                                            maxHeight={'65px'}\r\n                                            openText={\"Skjul\"}\r\n                                            closedText={\"Ls videre\"}\r\n                                        >\r\n\r\n                                            <div dangerouslySetInnerHTML={{__html: post.post_content}}/>\r\n                                        </ReadMore>\r\n\r\n\r\n                                        <div className=\"map\">\r\n                                            <img src={this.IMAGES+\"map.png\"}/>\r\n                                            <div className=\"nb-text\">\r\n                                                NB. Du fr den prcise adresse ved gensidig aftale om leje\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {post.office_rules != null && post.office_rules.length > 0 &&\r\n                                        <div className=\"office-rules office-section section-box\">\r\n                                            <h2 className=\"section-title\">\r\n                                                Kontorregler\r\n                                            </h2>\r\n                                            <div className=\"accordion-wrap\">\r\n                                                {post.office_rules.map((el) => {\r\n                                                    if (el.value === null || el.value.length === 0){\r\n                                                        return null;\r\n                                                    }\r\n                                                    return <Accordion\r\n                                                        label={el.name}\r\n                                                        key={el.name}\r\n                                                    >\r\n                                                        {el.value}\r\n                                                    </Accordion>\r\n                                                })}\r\n                                            </div>\r\n                                        </div>\r\n                                    }\r\n\r\n                                    <div className=\"security-notice office-section\">\r\n                                        <div className=\"flex-row\">\r\n                                            <div className=\"icon\">\r\n                                                <span className=\"icomoon icon-sikkerhed\"/>\r\n                                            </div>\r\n                                            <div className=\"message\">\r\n                                                <h3 className=\"heading\">\r\n                                                    Vigtigt!\r\n                                                </h3>\r\n                                                <div className=\"security-content\">\r\n                                                    <p>\r\n                                                        <strong>Kommuniker <u>altid</u> kun via Officely.</strong> For at vi kan beskytte dig skal du aldrig overfre penge eller kommunikere uden for officely-webstedet. Officely er din sikkerhed.\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                    <div className=\"owner-info office-section section-box\">\r\n                                        {owner !== false ? (\r\n\r\n                                            <React.Fragment>\r\n                                                <h2 className=\"owner-info-title section-title\">\r\n                                                    Udlejer information\r\n                                                </h2>\r\n                                                <div dangerouslySetInnerHTML={{__html: this.state.owner}}/>\r\n                                            </React.Fragment>\r\n                                        ) : (\r\n                                            <Loader/>\r\n                                        )}\r\n\r\n                                    </div>\r\n                                    <div className=\"share-btn-section \">\r\n                                        <ShareBtn\r\n                                            icon={\"icon-download\"}\r\n                                            buttonTitle={\"Del\"}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </React.Fragment>\r\n            )\r\n        } else{\r\n            renderPost = (\r\n                <Loader/>\r\n            )\r\n        };\r\n\r\n\r\n\r\n\r\n        return (\r\n            <React.Fragment>\r\n               {renderPost}\r\n                {relatedSection}\r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default SinglePost;\r\n","import React, {Component} from 'react';\r\n\r\nclass OfficeFacilities extends Component {\r\n    API_URL = process.env.REACT_APP_API_URL;\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            showPopup: false,\r\n        };\r\n        this.node = React.createRef();\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        document.addEventListener(\"mousedown\", this.handleClick, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('mousedown', this.handleClick, false);\r\n    }\r\n    togglePopup = (e) => {\r\n        this.setState({\r\n            showPopup: !this.state.showPopup,\r\n        })\r\n    };\r\n    handleClick(e){\r\n        if(this.node.current === null || this.node.contains(e.target)){\r\n            // clicked inside\r\n            return;\r\n        }\r\n        if(this.state.showPopup === true){\r\n            this.togglePopup();\r\n        }\r\n    }\r\n\r\n    isUsed = () => {\r\n        let chosen = this.props.chosenFacilities.length;\r\n\r\n        if(chosen > 0){\r\n            return 'used';\r\n        }\r\n        return 'not-used';\r\n    }\r\n\r\n    render() {\r\n        const handleCheckboxChange = this.props.handleCheckboxChange;\r\n        let facilities = this.props.officeFacilities;\r\n        let chosenFacilities = this.props.chosenFacilities;\r\n        let facilitiesFilter;\r\n        let facilitiesMarkup = facilities.map(function(facility){\r\n            return(\r\n                <label key={facility.id}>\r\n                    <input\r\n                        type={\"checkbox\"}\r\n                        name=\"office_type\"\r\n                        value={facility.id}\r\n                        id={\"office_type\"+facility.id}\r\n                        onChange={handleCheckboxChange}\r\n                        checked={chosenFacilities.includes(parseInt(facility.id))}\r\n                        data-label={facility.name}/>\r\n                    <span className=\"checkmark\"/>\r\n                    <span className=\"input-title\">\r\n                        {facility.name} <span className=\"count\">({facility.count})</span>\r\n                    </span>\r\n                </label>\r\n            )\r\n        });\r\n\r\n        if(facilities.length){\r\n            facilitiesFilter = (\r\n                <div className={`filter-element input-popup type-checkbox ${this.isUsed()}`} data-type=\"checkbox\" id=\"office_facilities_filter\" ref={(node) => this.node = node}>\r\n                    <h4 className=\"filter-heading\">\r\n                        Kontor faciliteter\r\n                    </h4>\r\n                    <div className=\"input-wrap\" onClick={this.togglePopup}>\r\n                        <div className=\"chosen-value\" data-empty-text=\"Alle typer\">\r\n                            {this.props.chosenFacilitiesText}\r\n                        </div>\r\n                    </div>\r\n                    <div className={`input-popup-content ` + (this.state.showPopup ? 'open' : 'closed')}>\r\n                        {facilitiesMarkup}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        return(\r\n            <React.Fragment>\r\n                {facilitiesFilter}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default OfficeFacilities;\r\n\r\n\r\n","import React, {Component} from 'react';\r\n\r\nclass OfficeTypes extends Component {\r\n    API_URL = process.env.REACT_APP_API_URL;\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            showPopup: false,\r\n        };\r\n        this.node = React.createRef();\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        document.addEventListener(\"mousedown\", this.handleClick, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('mousedown', this.handleClick, false);\r\n    }\r\n    togglePopup = (e) =>{\r\n        this.setState({\r\n            showPopup: !this.state.showPopup,\r\n        })\r\n    };\r\n    handleClick(e){\r\n        if(this.node.current === null || this.node.contains(e.target)){\r\n            // clicked inside\r\n            return;\r\n        }\r\n        if(this.state.showPopup === true){\r\n            this.togglePopup();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let comp = this;\r\n        let handleRadioChange = this.props.handleRadioChange;\r\n        let types = this.props.officeTypes || [];\r\n        let typesCount = types.reduce((a,b) => a + b.count, 0);\r\n        let typesFilter;\r\n        let typesMarkup = types.map(function(type){\r\n            return(\r\n                <label key={type.id}>\r\n                    <input type={\"radio\"} name=\"office_type\" value={type.id} id={\"office_type\"+type.id} onChange={handleRadioChange} checked={parseInt(comp.props.chosenType) === type.id} data-label={type.name}/>\r\n                    <span className=\"checkmark\"/>\r\n                    <span className=\"input-title\">\r\n                        {type.name} <span className=\"count\">({type.count})</span>\r\n                    </span>\r\n                </label>\r\n            )\r\n        });\r\n        let currentType = types.find((el) => {\r\n            return el.id === parseInt(this.props.chosenType);\r\n        });\r\n        let currentText = currentType !== undefined ? currentType.name : \"Alle typer\";\r\n        if(types.length){\r\n            typesFilter = (\r\n                <div className=\"filter-element input-popup type-radio\" data-type=\"radio\" id=\"office_types_filter\" ref={node => this.node = node}>\r\n                    <h4 className=\"filter-heading\">\r\n                        Kontor type\r\n                    </h4>\r\n                    <div className=\"input-wrap\" onClick={this.togglePopup}>\r\n                        <div className=\"chosen-value\" data-empty-text=\"Alle typer\">\r\n                            {currentText}\r\n                        </div>\r\n                    </div>\r\n                    <div className={`input-popup-content ` + (this.state.showPopup ? 'open' : 'closed')}>\r\n                        <label>\r\n                            <input type=\"radio\" name=\"office_type\" value=\"all\" id=\"office_type\" checked={this.props.chosenType === 'all'} onChange={this.props.handleRadioChange} data-label={\"Alle typer\"}/>\r\n                            <span className=\"checkmark\"/>\r\n                            <span className=\"input-title\">Alle typer\r\n                                <span className=\"count\"> ({typesCount})</span></span>\r\n                        </label>\r\n                        {typesMarkup}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        return(\r\n            <React.Fragment>\r\n            {typesFilter}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default OfficeTypes;\r\n\r\n\r\n","import React, {Component} from 'react';\r\nimport initialFilter from \"../../Data/initialFilter\";\r\n\r\nclass Capacity extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n\r\n        };\r\n        this.handleQuantityClick = this.handleQuantityClick.bind(this);\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n\r\n    }\r\n\r\n\r\n\r\n    handleQuantityClick(e){\r\n        e.preventDefault();\r\n        let el = e.target;\r\n        let val = parseInt(el.dataset.val);\r\n\r\n        let currentVal = parseInt(this.props.capacity);\r\n        let newVal = val+currentVal;\r\n        if(newVal < 1 ){\r\n            newVal = 1;\r\n        }\r\n        if(newVal !== currentVal){\r\n           // only get posts if new value is different\r\n            this.props.updateFilterValue({\r\n                capacity: newVal,\r\n            })\r\n        }\r\n\r\n    }\r\n    handleInputChange(e){\r\n        let val = e.target.value;\r\n        if(val < 1){\r\n            val = 1;\r\n        }\r\n        if(val === this.props.capacity){\r\n            return;\r\n        }\r\n        this.props.updateFilterValue({\r\n            capacity: val,\r\n        })\r\n    }\r\n    isUsed = () => {\r\n        let arr1 = initialFilter.capacity;\r\n        let arr2 = this.props.capacity;\r\n        let same = true;\r\n        if(arr1.length !== arr2.length)\r\n            same = false;\r\n        for(var i = arr1.length; i--;) {\r\n            if(arr1[i] !== arr2[i])\r\n                same = false;\r\n        }\r\n\r\n        return (same) ? 'not-used' : 'used';\r\n    }\r\n\r\n    render(){\r\n        let disabled = (this.props.capacity < 2) ? 'disabled' : '';\r\n        return (\r\n            <div className={\"filter-element \" + this.isUsed()} id=\"office_capacity_filter\" >\r\n                <h4 className=\"filter-heading\">\r\n                    Personer\r\n                </h4>\r\n                <div className=\"input-wrap number-input\">\r\n                    <span className={\"minus quantity-btn \" + disabled} data-val=\"-1\" onClick={this.handleQuantityClick}></span>\r\n                    <input className=\"quantity-input\" type=\"number\" inputMode=\"numeric\" name=\"office_capacity\"\r\n                           id=\"office_capacity\" value={this.props.capacity} onChange={this.handleInputChange}/>\r\n                    <span className=\"plus quantity-btn\" data-val=\"1\" onClick={this.handleQuantityClick}>+</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Capacity;\r\n\r\n\r\n","import React, {Component} from 'react';\r\n\r\nclass CoWork extends Component {\r\n    API_URL = process.env.REACT_APP_API_URL;\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n\r\n        };\r\n    }\r\n\r\n    handleCoworkClick = (e) => {\r\n        e.preventDefault();\r\n        let eventClick = new Event('opencowork');\r\n        window.dispatchEvent(eventClick);\r\n    }\r\n\r\n    render(){\r\n\r\n        return (\r\n            <div className=\"filter-element\" id=\"office_cowork_filter\">\r\n                <label className=\"filter-heading\">\r\n                    <div className=\"checkbox-wrap\">\r\n                        <label htmlFor={\"office_cowork\"} onClick={ e => e.stopPropagation() }>\r\n                            <input type=\"checkbox\" name=\"office_cowork\" id=\"office_cowork\" value=\"1\" checked={this.props.coworkChecked} onChange={this.props.handleCoWorkChange}/>\r\n                                <span className=\"checkmark\"/>\r\n                                <span className=\"input-title\" >Jeg er interesseret i <span onClick={this.handleCoworkClick}>co-working</span></span>\r\n                        </label>\r\n                    </div>\r\n                </label>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default CoWork;\r\n\r\n\r\n","// External\r\nimport React, {Component} from 'react';\r\nimport Nouislider from \"nouislider-react\";\r\nimport \"nouislider/distribute/nouislider.css\";\r\n\r\n// Components\r\n\r\n// Functions\r\nimport formatNumber from \"../../functions/formatNumber\";\r\nimport throttle from \"../../functions/throttle\";\r\n\r\n\r\nclass PriceRange extends Component {\r\n    API_URL = process.env.REACT_APP_API_URL;\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            showPopup: false,\r\n            value: 0,\r\n            minTemp: 0,\r\n            maxTemp: 10000,\r\n        };\r\n        this.sliderRef = React.createRef();\r\n        this.popupContent = React.createRef();\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n\r\n\r\n    componentWillMount() {\r\n        document.addEventListener(\"mousedown\", this.handleClick, false);\r\n        document.addEventListener('clearOfficeFilter', this.onClearFilter, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('mousedown', this.handleClick, false);\r\n    }\r\n\r\n    onClearFilter = () => {\r\n        console.log('test precerange reset')\r\n        this.sliderRef.noUiSlider.set([this.props.minPriceDefault, this.props.maxPriceDefault]);\r\n    }\r\n\r\n\r\n    togglePopup = (e) =>{\r\n        this.setState({\r\n            showPopup: !this.state.showPopup\r\n        });\r\n        //this.props.toggleShowOfficePrice()\r\n\r\n    };\r\n    handleClick(e){\r\n        if(this.node.contains(e.target)){\r\n            // clicked inside\r\n            return;\r\n        }\r\n        if(this.state.showPopup === true){\r\n            this.togglePopup();\r\n        }\r\n    }\r\n\r\n    throttleUpdate = throttle((values) => {\r\n        this.setState({\r\n            minTemp: values[0],\r\n            maxTemp: values[1]\r\n        })\r\n    }, 10)\r\n\r\n    handleSet = (values) => {\r\n        this.setState({\r\n            minTemp: values[0],\r\n            maxTemp: values[1]\r\n        });\r\n        this.props.handlePriceChange(values);\r\n    }\r\n\r\n    onOpen = () => {\r\n        let box = this.popupContent;\r\n        let bound = box.getBoundingClientRect();\r\n        if(bound.right > (window.innerWidth || document.documentElement.clientWidth)){\r\n            this.setState({\r\n                edge: true,\r\n            })\r\n        }\r\n    };\r\n\r\n\r\n    handlePopupClick = () => {\r\n        if(this.state.showPopup !== true){\r\n            this.onOpen();\r\n        }\r\n        this.togglePopup();\r\n    };\r\n\r\n    isUsed = () => {\r\n        let min = parseInt(this.props.minPrice);\r\n        let max = parseInt(this.props.maxPrice);\r\n        let minDef = parseInt(this.props.minPriceDefault);\r\n        let maxDef = parseInt(this.props.maxPriceDefault);\r\n        if(min !== minDef || max !== maxDef){\r\n            return 'used';\r\n        }\r\n        return 'not-used';\r\n    };\r\n\r\n\r\n    render(){\r\n        return (\r\n            <div className={`filter-element input-popup ${this.isUsed()}`} id=\"office_price_filter\" ref={node => this.node = node}>\r\n                <h4 className=\"filter-heading\">\r\n                </h4>\r\n                <div className=\"input-wrap\" onClick={this.handlePopupClick}>\r\n                    <div className=\"chosen-value\">\r\n                        Pris\r\n                    </div>\r\n                </div>\r\n                <div className={`input-popup-content ` + (this.state.showPopup ? 'open' : 'closed')+ (this.state.edge === true ? ' edge' : '')} ref={node => this.popupContent = node}>\r\n                    <div className=\"price-display\">\r\n                        <div className=\"min-price-display\">\r\n                            <div className=\"fake-input\">\r\n                                <span className=\"prefix\">Min. </span>\r\n                                <span className={\"value\"}>\r\n                                    {formatNumber(this.state.minTemp)}\r\n                                </span>\r\n                                <span className=\"affix\"> kr.</span>\r\n                            </div>\r\n                        </div>\r\n                        <span className=\"divider\"/>\r\n                        <div className=\"max-price-display\">\r\n                            <div className=\"fake-input\">\r\n                                <span className=\"prefix\">Max. </span>\r\n                                <span className={\"value\"}>\r\n                                    {formatNumber(this.state.maxTemp)}\r\n                                </span>\r\n                                <span className=\"affix\"> kr.</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    <Nouislider\r\n                        instanceRef={instance => {\r\n                            this.sliderRef = instance;\r\n                        }}\r\n                        value={{min: 0, max: 5000}}\r\n                        id={\"price-slider\"}\r\n                        start={[this.props.minPrice, this.props.maxPrice]}\r\n                        range={{min: 0, max: 10000}}\r\n                        step={100}\r\n                        connect\r\n                        onSet={this.handleSet}\r\n                        onUpdate={this.throttleUpdate}\r\n\r\n                    />\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default PriceRange;\r\n\r\n\r\n","import React, {Component} from 'react';\r\n\r\n\r\nclass Orderby extends Component {\r\n    API_URL = process.env.REACT_APP_API_URL;\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            showPopup: false,\r\n            value: 0,\r\n        };\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n\r\n\r\n    componentWillMount() {\r\n        document.addEventListener(\"mousedown\", this.handleClick, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('mousedown', this.handleClick, false);\r\n    }\r\n    togglePopup = (e) =>{\r\n        this.setState({\r\n            showPopup: !this.state.showPopup\r\n        });\r\n    };\r\n    handleClick(e){\r\n        if(this.node.contains(e.target)){\r\n            // clicked inside\r\n            return;\r\n        }\r\n        if(this.state.showPopup === true){\r\n            this.togglePopup();\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const orderOptions = [\r\n            {\r\n                title: \"Pris lav til hj\",\r\n                key: 'price_asc',\r\n            },\r\n            {\r\n                title: \"Pris hj til lav\",\r\n                key: 'price_desc'\r\n            },\r\n            {\r\n                title: \"Alfabetisk (A-Z)\",\r\n                key: 'title_asc',\r\n            },\r\n            {\r\n                title: \"Alfabetisk (Z-A)\",\r\n                key: 'title_desc',\r\n            },\r\n            {\r\n                title: \"Nyeste\",\r\n                key: 'date_desc'\r\n            }\r\n        ];\r\n        let comp = this;\r\n        let handleOrderChange = this.props.handleOrderChange;\r\n        return (\r\n            <div className=\"filter-element input-popup type-radio close-after-change\" data-type=\"radio\" id=\"office_orderby_filter\" ref={node => this.node = node}>\r\n                <h4 className=\"filter-heading\">\r\n                    Sorter efter\r\n                </h4>\r\n                <div className=\"input-wrap\" onClick={this.togglePopup}>\r\n                    <div className=\"chosen-value\" >\r\n                        {this.props.orderbyTitle}\r\n                    </div>\r\n                </div>\r\n                <div className={`input-popup-content ` + (this.state.showPopup ? 'open' : 'closed')}>\r\n\r\n                    {orderOptions.map(function(el){\r\n                        return (\r\n                            <label key={el.key} className={\"order-option \"+el.key}>\r\n                                <input type={\"radio\"} name={\"office_orderby\"} value={el.key} checked={comp.props.orderbyKey === el.key} data-key={el.key} data-title={el.title} onChange={handleOrderChange}/>\r\n                                <span className=\"checkmark\"/>\r\n                                <span className=\"input-title\">{el.title}</span>\r\n                            </label>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Orderby;\r\n\r\n\r\n","import React, {Component} from 'react';\r\n\r\nclass SearchInput extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            searchString: '',\r\n        };\r\n\r\n    }\r\n    componentDidMount() {\r\n\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    handleOnUpdate = (val) =>{\r\n        if(this.props.onUpdate){\r\n            this.props.onUpdate(val)\r\n        }\r\n    };\r\n    handleOnClear = () =>{\r\n        if(this.props.onClear){\r\n            this.props.onClear()\r\n        }\r\n    };\r\n\r\n    clearSearch = () => {\r\n        this.setState({\r\n            searchString: \"\",\r\n        }, () => {\r\n                this.handleOnUpdate();\r\n                this.handleOnClear();\r\n            }\r\n        )\r\n    };\r\n\r\n    handleInputChange = (e) => {\r\n        let val = e.target.value;\r\n        this.setState({\r\n            searchString: val,\r\n        }, () => {\r\n                this.handleOnUpdate(val)\r\n            }\r\n        )\r\n    };\r\n\r\n\r\n    render() {\r\n        let comp = this;\r\n        let placeholder = (this.props.placeholder) ? this.props.placeholder : \"\";\r\n        return(\r\n            <React.Fragment>\r\n                <div className=\"search-wrapper search-input\">\r\n                    <span className=\"search-icon icomoon icon icon-search\"/>\r\n                    <input type={\"text\"} className=\"search-text\" onChange={this.handleInputChange} value={this.state.searchString} placeholder={placeholder}/>\r\n                    {this.state.searchString.length > 0 &&\r\n                        <span className=\"close-icon icomoon icon icon-luk\" onClick={this.clearSearch} />\r\n                    }\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default SearchInput;\r\n\r\n\r\n","import React, {Component} from 'react';\r\nimport SearchInput from \"./SearchInput\";\r\n\r\n// Data\r\nimport initialFilter from '../../Data/initialFilter';\r\nclass CitySelector extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            popupOpen: false,\r\n            chosen: this.props.selectedLocations || [],\r\n            searchString: \"\",\r\n        };\r\n    }\r\n\r\n    componentWillMount() {\r\n        document.addEventListener(\"mousedown\", this.handleClick, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('mousedown', this.handleClick, false);\r\n    }\r\n\r\n    handleClick = (e) => {\r\n        if(this.node.contains(e.target)){\r\n            // clicked inside\r\n            return;\r\n        }\r\n        if(this.state.popupOpen === true){\r\n            this.toggleShowPopup();\r\n        }\r\n    }\r\n    toggleShowPopup = () => {\r\n        this.setState({\r\n            popupOpen: !this.state.popupOpen,\r\n        });\r\n    };\r\n\r\n    isUsed = () => {\r\n        let arr1 = initialFilter.selectedLocations;\r\n        let arr2 = this.state.chosen;\r\n        let same = true;\r\n        if(arr1.length !== arr2.length)\r\n            same = false;\r\n        for(var i = arr1.length; i--;) {\r\n            if(arr1[i] !== arr2[i])\r\n                same = false;\r\n        }\r\n\r\n        return (same) ? 'not-used' : 'used';\r\n    }\r\n\r\n\r\n\r\n    handleCheckboxChange = (e) => {\r\n        let textElement = Array.prototype.filter.call(e.target.parentNode.children, function(child){\r\n            return child !== e.target && child.classList.contains('input-title');\r\n        });\r\n        let id = parseInt(e.target.value);\r\n        let checked = e.target.checked;\r\n\r\n        let selected = this.props.officeLocations.find((el) => {\r\n            return parseInt(el.id) === parseInt(id);\r\n        })\r\n\r\n        if(checked){\r\n            selected = [...this.props.selectedLocations, id];\r\n        } else{\r\n            selected = this.props.selectedLocations.filter(function (val) {\r\n                return parseInt(val) !== parseInt(id);\r\n            })\r\n        }\r\n        this.setState({\r\n            chosen: selected,\r\n        }, this.props.onChange(selected));\r\n\r\n    };\r\n\r\n    unescapeString = (string) => {\r\n        return string\r\n    }\r\n\r\n\r\n    onSearchClear = () => {\r\n        this.setState({\r\n            searchString: \"\",\r\n        })\r\n    }\r\n\r\n    onSearchUpdate = (val) => {\r\n        this.setState({\r\n            searchString: val,\r\n        })\r\n    }\r\n\r\n    render(){\r\n        const comp = this;\r\n\r\n        let search = this.state.searchString;\r\n        let types = this.props.officeLocations;\r\n        let topLevelTypes  = this.props.officeLocations.filter( (el) => {\r\n            return parseInt(el.parent) === 0;\r\n        })\r\n        if(search.length > 0){\r\n            types = types.filter((el) => {\r\n                let reg = RegExp('('+search+')', 'gmi');\r\n                return reg.test(el.name);\r\n            })\r\n            topLevelTypes = [];\r\n        } else{\r\n            types = [];\r\n        }\r\n        let typesMarkup = types.map(function(type){\r\n            return(\r\n                <label key={type.id}>\r\n                    <input type={\"checkbox\"} name={comp.props.name} value={type.id} id={comp.props.name+type.id} onChange={comp.handleCheckboxChange} checked={comp.props.selectedLocations.includes(parseInt(type.id))} data-label={type.name}/>\r\n                    <span className=\"checkmark\"/>\r\n                    <span className=\"input-title\">\r\n                        {comp.unescapeString(type.name)} {'count' in type && comp.props.count === true && <span className=\"count\">({type.count})</span>}\r\n                    </span>\r\n                </label>\r\n            )\r\n        });\r\n\r\n        let topLevelTypesMarkup = topLevelTypes.map( (type) => {\r\n            return (\r\n            <label key={type.id}>\r\n                <input type={\"checkbox\"} name={comp.props.name} value={type.id} id={comp.props.name+type.id} onChange={comp.handleCheckboxChange} checked={comp.props.selectedLocations.includes(parseInt(type.id))} data-label={type.name}/>\r\n                <span className=\"checkmark\"/>\r\n                <span className=\"input-title\">\r\n                        {comp.unescapeString(type.name)} {'count' in type && comp.props.count === true && <span className=\"count\">({type.count})</span>}\r\n                    </span>\r\n            </label>\r\n            )\r\n        });\r\n\r\n\r\n\r\n        if(types.length === 0 && search.length > 0){\r\n            typesMarkup = <h4 className={\"no-results\"}>Ingen byer fundet. Prv igen.</h4>\r\n        }\r\n        let currentType = types.find((el) => {\r\n            return el.id === parseInt(this.state.chosen.id);\r\n        });\r\n        let currentText = currentType !== undefined ? currentType.name : this.props.startText;\r\n        return (\r\n            <React.Fragment>\r\n\r\n            <div className={\"filter-element city-select input-popup type-checkbox \"+this.isUsed()} data-type=\"checkbox\" ref={node => this.node = node}>\r\n                <h4 className=\"filter-heading\">\r\n                    {this.props.title}\r\n                </h4>\r\n                <div className=\"input-wrap\" onClick={this.toggleShowPopup}>\r\n                    <div className=\"chosen-value\" data-empty-text=\"Vlg by\">\r\n                        {'name' in this.state.chosen ?\r\n                            this.state.chosen.name : \"Vlg by\"\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className={`input-popup-content ` + (this.state.popupOpen ? 'open' : 'closed')}>\r\n                    <div className=\"search\">\r\n                        <SearchInput\r\n                            placeholder={\"Sg...\"}\r\n                            onClear={this.onSearchClear}\r\n                            onUpdate={this.onSearchUpdate}\r\n                        />\r\n                    </div>\r\n                    <hr className=\"divider\"/>\r\n                    {topLevelTypesMarkup}\r\n                    {typesMarkup}\r\n                </div>\r\n            </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default CitySelector;\r\n\r\n\r\n","import React, {Component} from 'react';\r\n\r\nimport formatTitle from '../../functions/formatTitle';\r\nimport initialFilter from \"../../Data/initialFilter\";\r\n\r\nclass RadioSelect extends Component {\r\n    API_URL = process.env.REACT_APP_API_URL;\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            popupOpen: false,\r\n            selected: this.props.defaultSelected != null ? this.props.defaultSelected : false,\r\n            edge: false,\r\n        };\r\n        this.node = React.createRef();\r\n        this.popupContent = React.createRef();\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.togglePopup = this.togglePopup.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        document.addEventListener(\"mousedown\", this.handleClick, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('mousedown', this.handleClick, false);\r\n    }\r\n    onOpen = () => {\r\n        let box = this.popupContent;\r\n        let bound = box.getBoundingClientRect();\r\n        if(bound.right > (window.innerWidth || document.documentElement.clientWidth)){\r\n            this.setState({\r\n                edge: true,\r\n            })\r\n        }\r\n    }\r\n    togglePopup(e){\r\n        if(this.state.popupOpen !== true){\r\n            this.onOpen();\r\n        }\r\n        this.setState({\r\n            popupOpen: !this.state.popupOpen,\r\n        })\r\n    }\r\n\r\n    handleRadioChange = (e) => {\r\n\r\n        let textElement = Array.prototype.filter.call(e.target.parentNode.children, function(child){\r\n            return child !== e.target && child.classList.contains('input-title');\r\n        });\r\n        if(textElement){\r\n            let selected = {\r\n                id: e.target.value,\r\n                name: e.target.dataset.label\r\n            };\r\n            this.setState({\r\n                selected: selected,\r\n            }, this.props.onChange(selected));\r\n        }\r\n    };\r\n\r\n    handleClick(e){\r\n        if(this.node.current === null || this.node.contains(e.target)){\r\n            // clicked inside\r\n            return;\r\n        }\r\n        if(this.state.popupOpen === true){\r\n            this.togglePopup();\r\n        }\r\n    }\r\n\r\n\r\n    isUsed = () => {\r\n        let arr1 = this.props.initialValue;\r\n        let arr2 = this.state.selected;\r\n        if(arr2 === false){\r\n            return 'not used';\r\n        }\r\n\r\n        let aProps = Object.getOwnPropertyNames(arr1);\r\n        let bProps = Object.getOwnPropertyNames(arr2);\r\n        // If number of properties is different,\r\n        // objects are not equivalent\r\n        if (aProps.length !== bProps.length) {\r\n            return 'used';\r\n        }\r\n\r\n        for (let i = 0; i < aProps.length; i++) {\r\n            const propName = aProps[i];\r\n            // If values of same property are not equal,\r\n            // objects are not equivalent\r\n            if (arr1[propName] != arr2[propName]) {\r\n                return 'used';\r\n            }\r\n        }\r\n        return 'not-used';\r\n    }\r\n\r\n\r\n    render() {\r\n        let comp = this;\r\n        let types = this.props.options || [];\r\n        types = types.slice(0); // clone array so we don't make changes\r\n        if(this.props.enableAll && !types.find((el) => {return el.id === 0})){\r\n            types.unshift({\r\n                id: 0,\r\n                name: this.props.allText,\r\n            })\r\n        }\r\n\r\n        let typesFilter;\r\n        let typesMarkup = types.map(function(type){\r\n            return(\r\n                <label key={type.id}>\r\n                    <input  type={\"radio\"}\r\n                            name={comp.props.name}\r\n                            value={type.id}\r\n                            id={comp.props.name+type.id}\r\n                            onChange={comp.handleRadioChange}\r\n                            checked={parseInt(comp.props.defaultSelected.id) === parseInt(type.id)}\r\n                            data-label={type.name}\r\n                    />\r\n                    <span className=\"checkmark\"/>\r\n                    <span className=\"input-title\">\r\n                        {formatTitle(type.name)} {'count' in type && comp.props.count === true && <span className=\"count\">({type.count})</span>}\r\n                    </span>\r\n                </label>\r\n            )\r\n        });\r\n        let currentType = types.find((el) => {\r\n            return parseInt(el.id) === parseInt(this.props.defaultSelected.id);\r\n        });\r\n        let currentText = currentType !== undefined ? formatTitle(currentType.name) : this.props.startText;\r\n        if(this.props.enableAll && currentType.id === 0){\r\n            currentText = this.props.startText;\r\n        }\r\n\r\n        if(types.length){\r\n            typesFilter = (\r\n                <div className={`filter-element input-popup type-radio ${this.props.className ? this.props.className : ''} ${this.isUsed()}`} data-type=\"radio\" id={this.props.id} ref={node => this.node = node} >\r\n                    <h4 className=\"filter-heading\">\r\n                        {this.props.heading}\r\n                    </h4>\r\n                    <div className=\"input-wrap\" onClick={this.togglePopup}>\r\n                        <div className=\"chosen-value\" data-empty-text=\"Alle typer\">\r\n                            {currentText}\r\n                        </div>\r\n                    </div>\r\n                    <div className={`input-popup-content ` + (this.state.popupOpen ? 'open' : 'closed') + (this.state.edge === true ? ' edge' : '')} ref={node => this.popupContent = node}>\r\n\r\n                        {typesMarkup}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        return(\r\n            <React.Fragment>\r\n                {typesFilter}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default RadioSelect;\r\n\r\n\r\n","import React, {Component} from 'react';\r\n\r\nclass IndustrySelector extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            popupOpen: false,\r\n            chosen: this.props.startVal || {},\r\n        };\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n    }\r\n\r\n    componentWillMount() {\r\n        document.addEventListener(\"mousedown\", this.handleClick, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('mousedown', this.handleClick, false);\r\n    }\r\n\r\n    handleClick = (e) => {\r\n        if(this.node.contains(e.target)){\r\n            // clicked inside\r\n            return;\r\n        }\r\n        if(this.state.popupOpen === true){\r\n            this.toggleShowPopup();\r\n        }\r\n    }\r\n    toggleShowPopup = () => {\r\n        this.setState({\r\n            popupOpen: !this.state.popupOpen,\r\n        });\r\n    };\r\n\r\n    handleInputChange(e){\r\n        let target = e.target;\r\n        let optionIndex = target.selectedIndex;\r\n        let selectedOption = target.options[optionIndex];\r\n\r\n        let industryCode = target[target.selectedIndex].value;\r\n\r\n        let selectedIndustry = this.props.industries.find( (el) => {\r\n            return parseInt(el.code) === parseInt(industryCode);\r\n        });\r\n\r\n        if( selectedIndustry){\r\n\r\n            this.setState({\r\n                chosen: selectedIndustry\r\n            })\r\n        }\r\n\r\n        //let val = e.options[e.selectedIndex].value;\r\n        /*\r\n            if(this.props.onUpdate !== undefined){\r\n                this.props.onUpdate(val);\r\n            }\r\n            */\r\n\r\n\r\n    }\r\n\r\n    render(){\r\n\r\n        let selectEl;\r\n\r\n        if(this.props.industries === undefined){\r\n            selectEl = null;\r\n        } else{\r\n            selectEl = <React.Fragment>\r\n                <select onChange={this.handleInputChange}>\r\n\r\n                    {this.props.industries.map( (ind, i) => {\r\n                        return(\r\n                            <option key={i} value={ind.code}>\r\n                                {ind.name}\r\n                            </option>\r\n                        )\r\n                    })}\r\n\r\n                </select>\r\n            </React.Fragment>\r\n        }\r\n        return (\r\n            <React.Fragment>\r\n\r\n                <div className=\"filter-element city-select input-popup type-select\" id=\"office_industry_filter\" data-type=\"select\" ref={node => this.node = node}>\r\n                    <h4 className=\"filter-heading\">\r\n                        {this.props.title}\r\n                    </h4>\r\n                    <div className=\"input-wrap\" onClick={this.toggleShowPopup}>\r\n                        <div className=\"chosen-value\" data-empty-text=\"Branche\">\r\n                            {'name' in this.state.chosen ?\r\n                                this.state.chosen.name : \"Branche\"\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <div className={`input-popup-content ` + (this.state.popupOpen ? 'open' : 'closed')}>\r\n                        {selectEl}\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default IndustrySelector;\r\n\r\n\r\n","import React, {Component} from 'react';\r\n\r\nimport formatTitle from '../../functions/formatTitle';\r\n\r\nclass CheckboxSelect extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tpopupOpen: false,\r\n\t\t\tselected: this.props.selected != null ? [...this.props.selected] : [],\r\n\t\t\tedge: false,\r\n\t\t};\r\n\t\tthis.node = React.createRef();\r\n\t\tthis.popupContent = React.createRef();\r\n\t\tthis.handleClick = this.handleClick.bind(this);\r\n\t\tthis.togglePopup = this.togglePopup.bind(this);\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener(\"mousedown\", this.handleClick, false);\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.removeEventListener('mousedown', this.handleClick, false);\r\n\t}\r\n\tonOpen = () => {\r\n\t\tlet box = this.popupContent;\r\n\t\tlet bound = box.getBoundingClientRect();\r\n\t\tif(bound.right > (window.innerWidth || document.documentElement.clientWidth)){\r\n\t\t\tthis.setState({\r\n\t\t\t\tedge: true,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\ttogglePopup(e){\r\n\t\tif(this.state.popupOpen !== true){\r\n\t\t\tthis.onOpen();\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tpopupOpen: !this.state.popupOpen,\r\n\t\t})\r\n\t}\r\n\r\n\thandleCheckboxChange = (e) => {\r\n\t\t// current array of options\r\n\t\tconst options = [...this.props.selected];\r\n\t\tlet index;\r\n\t\tlet text;\r\n\t\t// check if the check box is checked or unchecked\r\n\t\tif (e.target.checked) {\r\n\t\t\t// add the numerical value of the checkbox to options array\r\n\t\t\toptions.push(+e.target.value)\r\n\t\t} else {\r\n\t\t\t// or remove the value from the unchecked checkbox from the array\r\n\t\t\tindex = options.indexOf(+e.target.value)\r\n\t\t\toptions.splice(index, 1)\r\n\t\t}\r\n\t\tlet count = options.length;\r\n\r\n\t\tif(count){\r\n\t\t\tif(count === 1){\r\n\t\t\t\ttext = `(${count}) filter valgt`;\r\n\t\t\t} else{\r\n\t\t\t\ttext = `(${count}) filtre valgt`;\r\n\t\t\t}\r\n\t\t} else{\r\n\t\t\ttext = this.props.chosenFacilitiesDefaultText;\r\n\t\t}\r\n\t\tthis.props.onChange({\r\n\t\t\tselected: options,\r\n\t\t\ttext: text,\r\n\t\t});\r\n\t};\r\n\r\n\thandleClick(e){\r\n\t\tif(this.node.current === null || this.node.contains(e.target)){\r\n\t\t\t// clicked inside\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.state.popupOpen === true){\r\n\t\t\tthis.togglePopup();\r\n\t\t}\r\n\t}\r\n\r\n\tisUsed = () => {\r\n\t\tlet used = this.props.selected.length > 0;\r\n\t\tif(used){\r\n\t\t\treturn 'used';\r\n\t\t}\r\n\t\treturn 'not-used';\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet comp = this;\r\n\t\tlet types = this.props.options || [];\r\n\t\ttypes = types.slice(0);\r\n\t\tif(this.props.enableAll === true && !types.find((el) => {return el.id === 0})){\r\n\t\t\ttypes.unshift({\r\n\t\t\t\tid: 0,\r\n\t\t\t\tname: this.props.allText,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tlet typesFilter;\r\n\t\tlet typesMarkup = types.map(function(type){\r\n\t\t\treturn(\r\n\t\t\t\t<label key={type.id}>\r\n\t\t\t\t\t<input  type={\"checkbox\"}\r\n\t\t\t\t        name={comp.props.name}\r\n\t\t\t\t        value={type.id}\r\n\t\t\t\t        id={`${comp.props.name}+${type.id}`}\r\n\t\t\t\t        onChange={comp.handleCheckboxChange}\r\n\t\t\t\t        //checked={parseInt(comp.props.selected.id) === parseInt(type.id)}\r\n\t\t\t\t        checked={comp.props.selected.includes(parseInt(type.id))}\r\n\t\t\t\t        data-label={type.name}\r\n\t\t\t        />\r\n\t\t\t\t\t<span className=\"checkmark\"/>\r\n\t\t\t\t\t<span className=\"input-title\">\r\n                        {formatTitle(type.name)} {'count' in type && comp.props.count === true && <span className=\"count\">({type.count})</span>}\r\n                    </span>\r\n\t\t\t\t</label>\r\n\t\t\t)\r\n\t\t});\r\n\r\n\t\tlet currentText = this.props.startText;\r\n\r\n\r\n\t\tif(types.length){\r\n\t\t\ttypesFilter = (\r\n\t\t\t\t<div className={`filter-element input-popup type-checkbox ${this.props.className} ${this.isUsed()}`} data-type=\"checkbox\" id={this.props.id} ref={node => this.node = node} >\r\n\t\t\t\t\t<h4 className=\"filter-heading\">\r\n\t\t\t\t\t\t{this.props.heading}\r\n\t\t\t\t\t</h4>\r\n\t\t\t\t\t<div className=\"input-wrap\" onClick={this.togglePopup}>\r\n\t\t\t\t\t\t<div className=\"chosen-value\" data-empty-text=\"Alle typer\">\r\n\t\t\t\t\t\t\t{currentText}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={`input-popup-content ` + (this.state.popupOpen ? 'open' : 'closed') + (this.state.edge === true ? ' edge' : '')} ref={node => this.popupContent = node}>\r\n\t\t\t\t\t\t{typesMarkup}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn(\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{typesFilter}\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n\r\n}\r\n\r\nexport default CheckboxSelect;\r\n\r\n\r\n","import React, {Component} from 'react';\r\n\r\nimport OfficeTypes from './FormElements/OfficeTypes';\r\nimport Capacity from './FormElements/Capacity';\r\nimport OfficeFacilities from \"./FormElements/OfficeFacilities\";\r\nimport CoWork from \"./FormElements/CoWork\";\r\nimport PriceRange from \"./FormElements/PriceRange\";\r\nimport Orderby from \"./FormElements/Orderby\"\r\nimport CitySelector from \"./FormElements/CitySelector\";\r\nimport PeriodSelector from \"./FormElements/PeriodSelector\";\r\nimport IndustrySelector from \"./FormElements/IndustrySelector\";\r\nimport RadioSelect from \"./FormElements/RadioSelect\";\r\nimport Loader from \"./Loader\";\r\nimport CheckboxSelect from \"./FormElements/CheckboxSelect\";\r\nimport NumberSelector from \"./FormElements/NumberSelector\";\r\n\r\nimport initialFilter from './../Data/initialFilter';\r\n\r\nclass FilterForm extends Component {\r\n    API_URL = process.env.REACT_APP_API_URL;\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n\r\n        };\r\n\r\n        this.handleRadioChange = this.handleRadioChange.bind(this);\r\n        this.handleFacilitiesChange = this.handleFacilitiesChange.bind(this);\r\n        this.handlePriceChange = this.handlePriceChange.bind(this);\r\n        this.handleOrderChange = this.handleOrderChange.bind(this);\r\n        this.handleCoWorkChange = this.handleCoWorkChange.bind(this);\r\n\r\n    }\r\n    componentDidMount() {\r\n        if(this.props.postCount === 0){\r\n            this.props.getOffices();\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n\r\n    }\r\n\r\n    handleRadioChange(e){\r\n        let textElement = Array.prototype.filter.call(e.target.parentNode.children, function(child){\r\n            return child !== e.target && child.classList.contains('input-title');\r\n        });\r\n        if(textElement){\r\n            this.props.updateFilterValue({\r\n                chosenType: e.target.value,\r\n                chosenTypeText: e.target.dataset.label\r\n            });\r\n        }\r\n    }\r\n    handleFacilitiesChange(e) {\r\n        // current array of options\r\n        const options = [...this.props.chosenFacilities];\r\n        let index;\r\n        let text;\r\n        // check if the check box is checked or unchecked\r\n        if (e.target.checked) {\r\n            // add the numerical value of the checkbox to options array\r\n            options.push(+e.target.value)\r\n        } else {\r\n            // or remove the value from the unchecked checkbox from the array\r\n            index = options.indexOf(+e.target.value)\r\n            options.splice(index, 1)\r\n        }\r\n        let count = options.length;\r\n\r\n        if(count){\r\n            if(count === 1){\r\n                text = `(${count}) filter valgt`;\r\n            } else{\r\n                text = `(${count}) filtre valgt`;\r\n            }\r\n        } else{\r\n            text = this.props.chosenFacilitiesDefaultText;\r\n        }\r\n        this.props.updateFilterValue({\r\n            chosenFacilities: options,\r\n            chosenFacilitiesText: text,\r\n        });\r\n    }\r\n\r\n\r\n\r\n    handleCoWorkChange(e) {\r\n        this.props.updateFilterValue({\r\n            coworkChecked: !this.props.coworkChecked,\r\n        });\r\n    }\r\n    handlePriceEnd(values){\r\n        let min = parseInt(values[0]);\r\n        let max = parseInt(values[1]);\r\n        if(min !== this.props.minPrice || max !== this.props.maxPrice){\r\n            this.props.updateParentState('priceChanged', true);\r\n\r\n            this.props.updateFilterValue({\r\n                minPrice: min,\r\n                maxPrice: max,\r\n            })\r\n        }\r\n    }\r\n    handlePriceChange(values){\r\n        let min = parseInt(values[0]);\r\n        let max = parseInt(values[1]);\r\n        if(min !== this.props.minPrice || max !== this.props.maxPrice){\r\n            this.props.updateParentState('priceChanged', true);\r\n\r\n            this.props.updateFilterValue({\r\n                minPrice: min,\r\n                maxPrice: max,\r\n            })\r\n        }\r\n    }\r\n\r\n    handleOrderChange(e){\r\n        let key = e.target.dataset.key;\r\n        let title = e.target.dataset.title;\r\n        if(key && title){\r\n            this.props.updateFilterValue({\r\n                orderbyKey: key,\r\n                orderbyTitle: title\r\n            })\r\n        }\r\n    }\r\n\r\n    handlePeriodUpdate = (value) => {\r\n        this.props.updateFilterValue({\r\n            selectedPeriod: value,\r\n        })\r\n    };\r\n\r\n    handleCityUpdate = (value) => {\r\n        this.props.updateFilterValue({\r\n            selectedLocations: value,\r\n        })\r\n    };\r\n\r\n    handleNumberUpdate = (value) => {\r\n        this.props.updateFilterValue({\r\n            capacity: value\r\n        })\r\n    }\r\n    onIndustryChange = (value) => {\r\n    \tthis.props.updateFilterValue({\r\n\t\t    selectedIndustry: value.selected,\r\n\t\t    IndustryText: value.text,\r\n\t    });\r\n    }\r\n\r\n    handleTypeChange = (value) => {\r\n        this.props.updateFilterValue({\r\n            chosenType: value\r\n        });\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        let foundCount;\r\n        if(parseInt(this.props.postCount) > 0){\r\n            foundCount = <React.Fragment>Oplev de <span className={\"count\"}>{this.props.postCount}</span> kontorpladser der passer til din sgning</React.Fragment>;\r\n        } else if(parseInt(this.props.postCount ) === 0 && this.props.postsLoading !== true){\r\n            foundCount = <React.Fragment>Ingen kontorer fundet med dine filtre, prv venligst igen</React.Fragment>;\r\n        }\r\n        if(this.props.filterDataLoaded === false){\r\n            return (<Loader/>)\r\n        }\r\n        return(\r\n\r\n            <form id={\"office-filter\"} className={\"office-filter-form\"}>\r\n                <div className=\"main-form\">\r\n                    <div className=\"container-fluid retina-max office-container\">\r\n                        <div className=\"field-wrap\">\r\n\r\n\r\n                            <CitySelector\r\n                                title={\"By\"}\r\n                                officeLocations={this.props.officeLocations}\r\n                                selectedLocations={this.props.selectedLocations}\r\n                                onChange={this.handleCityUpdate}\r\n                                name={\"city-selector\"}\r\n                            />\r\n\r\n                            <NumberSelector\r\n                                maxVal={99}\r\n                                minVal={0}\r\n                                startVal={this.props.capacity}\r\n                                onUpdate={this.handleNumberUpdate}\r\n                            />\r\n\r\n\r\n                            <RadioSelect\r\n                                options={this.props.officeTypes}\r\n                                count={true}\r\n                                enableAll={true}\r\n                                allText={\"Alle typer\"}\r\n                                startText={\"Alle typer\"}\r\n                                defaultSelected={this.props.chosenType}\r\n                                initialValue={initialFilter.chosenType}\r\n                                onChange={this.handleTypeChange}\r\n                                name={\"type_radio\"}\r\n                                id={\"office_type_filter\"}\r\n                                heading={\"Kontor type\"}\r\n                            />\r\n\r\n                            <PeriodSelector\r\n                                periods={this.props.periods}\r\n                                title={\"Periode\"}\r\n                                onUpdate={this.handlePeriodUpdate}\r\n                                selected={this.props.selectedPeriod}\r\n                                updateParentState={this.props.updateParentState}\r\n                                />\r\n                            <PriceRange\r\n                                handlePriceChange={this.handlePriceChange}\r\n                                minPrice={this.props.minPrice}\r\n                                maxPrice={this.props.maxPrice}\r\n                                minPriceDefault={this.props.minPriceDefault}\r\n                                maxPriceDefault={this.props.maxPriceDefault}\r\n                                showOfficePrice={this.props.showOfficePrice}\r\n                                //toggleShowOfficePrice={this.toggleShowOfficePrice}\r\n                                priceChanged={this.props.priceChanged}\r\n                            />\r\n\r\n                            <OfficeFacilities\r\n                                handleCheckboxChange={this.handleFacilitiesChange}\r\n                                officeFacilities={this.props.officeFacilities}\r\n                                chosenFacilities={this.props.chosenFacilities}\r\n                                chosenFacilitiesText={this.props.chosenFacilitiesText}\r\n                                chosenFacilitiesDefaultText={this.chosenFacilitiesDefaultText}\r\n\r\n                            />\r\n\r\n\r\n\t\t\t\t\t\t\t<CheckboxSelect\r\n\t\t\t\t\t\t\t\toptions={this.props.industries}\r\n\t\t\t\t\t\t\t\tcount={false}\r\n\t\t\t\t\t\t\t\tstartText={\"Branche\"}\r\n\t\t\t\t\t\t\t\tselected={this.props.selectedIndustry}\r\n\t\t\t\t\t\t\t\tonChange={this.onIndustryChange}\r\n\t\t\t\t\t\t\t\tname={\"industry_checkbox\"}\r\n\t\t\t\t\t\t\t\tid={\"office_industry_filter\"}\r\n\t\t\t\t\t\t\t\tclassName={\"invert-color\"}\r\n\t\t\t\t\t\t\t/>\r\n                            <div className={\"clear-form filter-element\"} onClick={ () => { this.props.clearFilter() }}>\r\n                                <div className=\"input-wrap\"><div className=\"chosen-value\">Ryd sgning</div></div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"field-wrap bottom-row\">\r\n                            <CoWork\r\n                                coworkChecked={this.props.coworkChecked}\r\n                                handleCoWorkChange={this.handleCoWorkChange}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"after-form\">\r\n                    <div className=\"container-fluid retina-max office-container\">\r\n                        <div className=\"field-wrap order\">\r\n                            <div className=\"filter-element\">\r\n                                <h4 className=\"found-posts\">\r\n                                    {foundCount}\r\n                                </h4>\r\n                            </div>\r\n\r\n                            <Orderby\r\n                                orderbyTitle={this.props.orderbyTitle}\r\n                                orderbyKey={this.props.orderbyKey}\r\n                                showOrderby={this.props.showOrderby}\r\n                                handleOrderChange={this.handleOrderChange}\r\n\r\n                            />\r\n\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n            </form>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default FilterForm;\r\n\r\n\r\n","import React, {Component} from 'react';\r\n\r\nimport {Link} from 'react-router-dom';\r\nimport OfficeTypes from './FormElements/OfficeTypes';\r\nimport Capacity from './FormElements/Capacity';\r\nimport CoWork from \"./FormElements/CoWork\";\r\nimport CitySelector from \"./FormElements/CitySelector\";\r\nimport Loader from \"./Loader\";\r\nimport NumberSelector from \"./FormElements/NumberSelector\";\r\nimport RadioSelect from \"./FormElements/RadioSelect\";\r\n\r\n\r\nclass ShortFilter extends Component {\r\n\tAPI_URL = process.env.REACT_APP_API_URL;\r\n\tOFFICE_URL = process.env.REACT_APP_OFFICE_URL;\r\n\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\r\n\t\t};\r\n\r\n\r\n\t}\r\n\tcomponentWillMount() {\r\n\r\n\t}\r\n\thandleFormSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tlet filterValues = {};\r\n\t\tfilterValues.capacity = this.props.capacity;\r\n\t\tfilterValues.locations = this.props.selectedLocations;\r\n\t\tfilterValues.type = this.props.chosenType;\r\n\t\tfilterValues.cowork = this.props.coworkChecked;\r\n\r\n\t\twindow.sessionStorage.setItem('officeFilter', JSON.stringify(filterValues));\r\n\r\n\r\n\t\twindow.location = this.OFFICE_URL;\r\n\t};\r\n\r\n\thandleTypeChange = (value) => {\r\n\t\tthis.props.updateFilterValue({\r\n\t\t\tchosenType: value\r\n\t\t});\r\n\t}\r\n\r\n\r\n\thandleCoWorkChange = (e) => {\r\n\t\tthis.props.updateParentState({\r\n\t\t\tcoworkChecked: !this.props.coworkChecked\r\n\t\t});\r\n\t}\r\n\r\n\thandlePeriodUpdate = (value) => {\r\n\t\tthis.props.updateParentState({\r\n\t\t\tselectedPeriod: value,\r\n\t\t})\r\n\r\n\t};\r\n\r\n\thandleCityUpdate = (value) => {\r\n\t\tthis.props.updateParentState({\r\n\t\t\tselectedLocations: value,\r\n\t\t})\r\n\r\n\t};\r\n\thandleNumberUpdate = (value) => {\r\n\t\tthis.props.updateParentState({\r\n\t\t\tcapacity: value\r\n\t\t})\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tif(this.props.filterDataLoaded === false){\r\n\t\t\treturn (<Loader/>)\r\n\t\t}\r\n\t\treturn(\r\n\r\n\t\t\t<form id={\"office-short-filter\"} className={\"office-filter-form\"}>\r\n\t\t\t\t<div className=\"main-form\">\r\n\t\t\t\t\t<div className=\"field-wrap top-row\">\r\n\r\n\t\t\t\t\t\t<CitySelector\r\n\t\t\t\t\t\t\ttitle={\"By\"}\r\n\t\t\t\t\t\t\tofficeLocations={this.props.officeLocations}\r\n\t\t\t\t\t\t\tselectedLocations={this.props.selectedLocations}\r\n\t\t\t\t\t\t\tonChange={this.handleCityUpdate}\r\n\t\t\t\t\t\t\tname={\"city-selector\"}\r\n\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<NumberSelector\r\n\t\t\t\t\t\t\tcapacity={this.props.capacity}\r\n\t\t\t\t\t\t\tmaxVal={99}\r\n\t\t\t\t\t\t\tminVal={0}\r\n\t\t\t\t\t\t\tstartVal={1}\r\n\t\t\t\t\t\t\tonUpdate={this.handleNumberUpdate}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<RadioSelect\r\n\t\t\t\t\t\t\toptions={this.props.officeTypes}\r\n\t\t\t\t\t\t\tcount={true}\r\n\t\t\t\t\t\t\tenableAll={true}\r\n\t\t\t\t\t\t\tallText={\"Alle typer\"}\r\n\t\t\t\t\t\t\tstartText={\"Alle typer\"}\r\n\t\t\t\t\t\t\tdefaultSelected={this.props.chosenType}\r\n\t\t\t\t\t\t\tinitialValue={[]}\r\n\t\t\t\t\t\t\tonChange={this.handleTypeChange}\r\n\t\t\t\t\t\t\tname={\"type_radio\"}\r\n\t\t\t\t\t\t\tid={\"office_type_filter\"}\r\n\t\t\t\t\t\t\theading={\"Kontor type\"}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<div className=\"filter-element\" id=\"submit-filter\">\r\n\t\t\t\t\t\t\t<button value=\"submit\" className=\"submit\" onClick={this.handleFormSubmit}>\r\n\t\t\t\t\t\t\t\tKom godt i gang\r\n\t\t\t\t\t\t\t\t<span className=\"arrow-right-icon icomoon icon-right\"/>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"field-wrap bottom-row\">\r\n\t\t\t\t\t\t<CoWork\r\n\t\t\t\t\t\t\tcoworkChecked={this.props.coworkChecked}\r\n\t\t\t\t\t\t\thandleCoWorkChange={this.handleCoWorkChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</form>\r\n\t\t)\r\n\t}\r\n\r\n}\r\n\r\nexport default ShortFilter;\r\n\r\n\r\n","import React, {Component} from 'react';\r\n\r\nclass NoPosts extends Component {\r\n    API_URL = process.env.REACT_APP_API_URL;\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render(){\r\n\r\n        return (\r\n            <div id=\"post-list\" className=\"no-posts\">\r\n                <h4>Indst et sjov 404-ish billede her?</h4>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default NoPosts;\r\n\r\n\r\n","import React, {Component} from 'react';\r\n\r\n// Components\r\nimport SinglePost from './Components/SinglePost';\r\nimport FilterForm from './Components/FilterForm';\r\nimport ShortFilter from './Components/ShortFilter'\r\nimport Loader from './Components/Loader';\r\nimport NoPosts from './Components/NoPosts';\r\nimport OfficePostList from './Components/OfficePostList';\r\n\r\n// Packages\r\nimport { BrowserRouter as Router, Route, Link} from 'react-router-dom';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {Switch} from \"react-router-dom\";\r\n\r\n// functions\r\nimport groupBy from './functions/groupBy';\r\n\r\n// Assets\r\nimport initialFilter from './Data/initialFilter';\r\n\r\nconst AbortController = window.AbortController;\r\n\r\n\r\nclass App extends Component {\r\n    API_URL = process.env.REACT_APP_API_URL;\r\n    OFFICE_URL = process.env.REACT_APP_OFFICE_URL;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            filterDataLoaded: false,\r\n            // User\r\n            user: {\r\n                loggedIn : window.wpApiSettings.loggedIn,\r\n                id: window.wpApiSettings.id\r\n            },\r\n\r\n            // Single post view\r\n            post: {},\r\n\r\n            // Post list data\r\n            offices: [],\r\n            noOffices: false,\r\n            listScrolled: 0,\r\n            postsLoading: true,\r\n            loadingMore: false,\r\n            loadedAll: false,\r\n            postCount: 0,\r\n\r\n            // Facilities filter\r\n            officeFacilities: [],\r\n\r\n            // type filter\r\n            officeTypes: [],\r\n\r\n            // Locations\r\n            officeLocations: [],\r\n\r\n            // Industries\r\n            officeIndustries: [],\r\n\r\n            // Price slider\r\n            minPrice: 0,\r\n            maxPrice: 10000,\r\n            minPriceDefault: 0,\r\n            maxPriceDefault: 10000,\r\n            // minPriceDisplay: 0,\r\n            // maxPriceDisplay: 0,\r\n\r\n            // test redirect from outside react\r\n            redirect: false,\r\n            ...initialFilter\r\n        };\r\n        this.periods = [\r\n            {\r\n              id: 0,\r\n              name: \"Ubegrnset\"\r\n            },\r\n            {\r\n              id: 1,\r\n              name: \"Min. 1 mdr.\",\r\n            },\r\n            {\r\n              id: 3,\r\n              name: \"Min. 3 mdr.\"\r\n            },\r\n            {\r\n              id: 6,\r\n              name: \"Min. 6 mdr.\",\r\n            },\r\n            {\r\n              id: 9,\r\n              name: \"Min. 9 mdr.\",\r\n            },\r\n            {\r\n              id: 12,\r\n              name: \"Min. 12 mdr.\",\r\n            }\r\n        ];\r\n        if(AbortController){\r\n            this.fetchController = new AbortController();\r\n            this.signal = this.fetchController.signal;\r\n        }\r\n\r\n        this.getOffices = this.getOffices.bind(this);\r\n        this.getData = this.getData.bind(this);\r\n        this.getOfficeFacilities = this.getOfficeFacilities.bind(this);\r\n        this.getOfficeTypes = this.getOfficeTypes.bind(this);\r\n        this.getOfficeLocations = this.getOfficeLocations.bind(this);\r\n        this.getPostBySlug = this.getPostBySlug.bind(this);\r\n        this.updateFilterValue = this.updateFilterValue.bind(this);\r\n        this.updateParentState = this.updateParentState.bind(this);\r\n        this.scrollReached = this.scrollReached.bind(this);\r\n        this.setListScrollPosition = this.setListScrollPosition.bind(this);\r\n        this.clearSingleOffice = this.clearSingleOffice.bind(this);\r\n        this.checkLocalStorageInit = this.checkLocalStorageInit.bind(this);\r\n\r\n\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.checkLocalStorageInit()\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n    componentDidUpdate () {\r\n        if (this.state.redirect) {\r\n            this.setState({\r\n                redirect: false\r\n            })\r\n        }\r\n    }\r\n    getTaxonomyLocalstorage = (key) => {\r\n        let storageLocations = window.localStorage.getItem(key);\r\n        if(storageLocations){\r\n            storageLocations = JSON.parse(storageLocations);\r\n            let now = new Date().getTime();\r\n            let date = storageLocations.time;\r\n            let diff = now - date;\r\n            diff = Math.floor(diff/1000/60/60/24); // get diff in days\r\n            if(diff <= 1){ // if data not a too old\r\n                console.log('got '+key+' from localstorage');\r\n                this.setState({\r\n                    [key]: storageLocations.data\r\n                });\r\n                return true;\r\n            } else{\r\n                window.localStorage.removeItem(key);\r\n            }\r\n        } else{\r\n            return false;\r\n        }\r\n    }\r\n    setTaxonomyLocalstorage = (key, data) => {\r\n        let storageObj = {\r\n            time: new Date().getTime(),\r\n            data: data\r\n        };\r\n        window.localStorage.setItem(key, JSON.stringify(storageObj));\r\n    }\r\n\r\n    redirectToArchive = () => {\r\n      this.setState({redirect: true})\r\n    }\r\n\r\n\r\n    checkLocalStorageInit() {\r\n        let storage = JSON.parse(sessionStorage.getItem('officeFilter'));\r\n        console.log(storage)\r\n        if(storage){\r\n            console.log('found settings in localStorage');\r\n            let changes = {};\r\n            if(storage.locations){\r\n                changes.selectedLocations = storage.locations;\r\n            }\r\n            if(storage.capacity){\r\n                changes.capacity = storage.capacity;\r\n            }\r\n            if(storage.type){\r\n                changes.chosenType = storage.type;\r\n            }\r\n            if(storage.cowork){\r\n                changes.coworkChecked = true;\r\n            }\r\n            sessionStorage.removeItem('officeFilter');\r\n            return this.setState(changes);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    checkStatus = (response) => {\r\n        if (response.ok) {\r\n            return Promise.resolve(response);\r\n        } else {\r\n            return Promise.reject(new Error(response.statusText));\r\n        }\r\n    }\r\n\r\n    handleOfficesQueryData = (data, more = false) => {\r\n        if(!data.posts.length){\r\n            let stateObj = {\r\n                postsLoading: false,\r\n                loadedAll: true,\r\n                loadingMore: false,\r\n            };\r\n            if(more === false) {\r\n                stateObj = {\r\n                    ...stateObj,\r\n                    noOffices: true,\r\n                    offices: data.posts,\r\n                    postCount: data.foundPosts,\r\n\r\n                }\r\n            }\r\n            this.setState(stateObj)\r\n            return true;\r\n        } else{\r\n            let stateObj = {\r\n                noOffices: !data.posts.length,\r\n                postsLoading: false,\r\n                offices: data.posts,\r\n                loadedAll: false,\r\n                loadingMore: false,\r\n                postCount: data.foundPosts,\r\n            };\r\n            if(more === true){\r\n                stateObj = {\r\n                    ...stateObj,\r\n                    offices: this.state.offices.concat(data.posts),\r\n                    noOffices: false,\r\n                };\r\n            }\r\n            this.setState(stateObj);\r\n            return true;\r\n        }\r\n    }\r\n\r\n    getData(){\r\n        Promise.all([\r\n            this.getOfficeLocations(),\r\n            this.getOfficeTypes(),\r\n            this.getOfficeFacilities(),\r\n            this.getOfficeIndustries(),\r\n            //this.getOffices(),\r\n        ]).then(() => {\r\n            this.setState({\r\n                filterDataLoaded: true,\r\n            })\r\n        }).catch((err) => {\r\n            console.log(err);\r\n        });\r\n\r\n\r\n    }\r\n\r\n    getOfficeLocations(){\r\n        let getFromStorage = this.getTaxonomyLocalstorage('officeLocations');\r\n        if(getFromStorage){\r\n            return getFromStorage;\r\n        }\r\n        console.log(`${this.API_URL}wp/v2/office_location?per_page=99`);\r\n        return fetch(`${this.API_URL}wp/v2/office_location?per_page=99`)\r\n            .then((response) => {\r\n                this.checkStatus(response);\r\n                return response.json()\r\n            })\r\n            .then(data => {\r\n                this.setTaxonomyLocalstorage('officeLocations', data);\r\n                this.setState({\r\n                    officeLocations: data\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.error(\"Error when fetching: \", error);\r\n            })\r\n    };\r\n\r\n    getOfficeFacilities(){\r\n        let getFromStorage = this.getTaxonomyLocalstorage('officeFacilities');\r\n        if(getFromStorage){\r\n            return getFromStorage;\r\n        }\r\n        console.log(`${this.API_URL}wp/v2/office_facilities?per_page=99`);\r\n        return fetch(`${this.API_URL}wp/v2/office_facilities?per_page=99`)\r\n            .then((response) => {\r\n                this.checkStatus(response);\r\n                return response.json()\r\n            })\r\n            .then(data => {\r\n                this.setTaxonomyLocalstorage('officeFacilities', data);\r\n                this.setState({\r\n                    officeFacilities: data\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.error(\"Error when fetching: \", error);\r\n            })\r\n    };\r\n    getOfficeTypes(){\r\n        let getFromStorage = this.getTaxonomyLocalstorage('officeTypes');\r\n        if(getFromStorage){\r\n            return getFromStorage;\r\n        }\r\n        return fetch(`${this.API_URL}wp/v2/office_type?per_page=99`)\r\n            .then((response) => {\r\n                    this.checkStatus(response);\r\n                    return response.json()\r\n                }\r\n            )\r\n            .then(data => {\r\n                this.setTaxonomyLocalstorage('officeTypes', data);\r\n                this.setState({\r\n                    officeTypes: data\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.error(\"Error when fetching: \", error);\r\n            })\r\n    };\r\n\r\n    getOfficeIndustries = () => {\r\n        let getFromStorage = this.getTaxonomyLocalstorage('officeIndustries');\r\n        if(getFromStorage){\r\n            return getFromStorage;\r\n        }\r\n        return fetch(`${this.API_URL}wp/v2/office_industry?per_page=99`)\r\n            .then((response) => {\r\n                    this.checkStatus(response);\r\n                    return response.json()\r\n                }\r\n            )\r\n            .then(data => {\r\n                this.setTaxonomyLocalstorage('officeIndustries', data);\r\n                this.setState({\r\n                    officeIndustries: data\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.error(\"Error when fetching: \", error);\r\n            })\r\n    };\r\n\r\n\r\n    getPostBySlug(slug){\r\n        this.setState({\r\n            post: {},\r\n        });\r\n          // check if post is already in our state\r\n        let maybePost = this.state.offices.find(function(el){\r\n          return el.post_name === slug;\r\n        });\r\n        if(maybePost){\r\n            console.log('found post in state', maybePost);\r\n            this.setState({\r\n                post: maybePost,\r\n            });\r\n            return true;\r\n        }\r\n        console.log('fetching post from getPostBySlug - slug: '+slug);\r\n        fetch(`${this.API_URL}officely/v2/office/${slug}`)\r\n              .then((response) => {\r\n                      return response.json()\r\n              })\r\n              .then(data => {\r\n                  if(data){\r\n                      this.setState({\r\n                          post: data,\r\n                          noOffices: !data.length\r\n                      });\r\n                  }\r\n              })\r\n              .catch(error => {\r\n                  console.error(\"Error when fetching: \", error);\r\n              });\r\n    }\r\n\r\n    getOffices(more = false){\r\n        this.fetchController.abort();\r\n        this.fetchController = new AbortController();\r\n        this.signal = this.fetchController.signal;\r\n        this.setState({\r\n            postsLoading: !more,\r\n            loadingMore: more\r\n        });\r\n\r\n        let queryBase = 'officely/v2/offices?';\r\n        let queryParts = [];\r\n        if(more === true){\r\n            queryParts.push('offset='+this.state.offices.length);\r\n        }\r\n        if(this.state.chosenType.id !== initialFilter.chosenType.id){\r\n            queryParts.push('office_type='+this.state.chosenType.id);\r\n        }\r\n        if(this.state.chosenFacilities.length){\r\n            queryParts.push('office_facilities='+this.state.chosenFacilities);\r\n        }\r\n        if(this.state.coworkChecked === true){\r\n            queryParts.push('cowork='+this.state.coworkChecked);\r\n        }\r\n\r\n        if(this.state.priceChanged === true){\r\n            if(this.state.minPrice !== initialFilter.minPriceDefault){\r\n                queryParts.push('minprice='+this.state.minPrice);\r\n            }\r\n            if(this.state.maxPrice !== initialFilter.maxPriceDefault){\r\n                console.log(this.state.maxPrice, initialFilter.maxPriceDefault);\r\n                queryParts.push('maxprice='+this.state.maxPrice);\r\n            }\r\n        }\r\n        if(this.state.capacity !== 1){\r\n            queryParts.push('capacity='+this.state.capacity);\r\n        }\r\n\r\n        if(this.state.selectedIndustry !== false && this.state.selectedIndustry !== 0 && this.state.selectedIndustry.length){\r\n            queryParts.push('office_industry='+this.state.selectedIndustry);\r\n        }\r\n\r\n        if(this.state.selectedPeriod !== false && this.state.selectedPeriod.startDate !== false){\r\n            let period = this.state.selectedPeriod.period.id;\r\n            let start = this.state.selectedPeriod.startDate.toISOString();\r\n            let end = this.state.selectedPeriod.endDate.toISOString();\r\n            queryParts.push(`period=${period}&start_date=${start}&end_date=${end}`);\r\n        }\r\n\r\n        if(this.state.selectedLocations.length > 0){\r\n            let locations = this.state.selectedLocations.join(',');\r\n            queryParts.push(`office_location=${locations}`)\r\n        }\r\n        // add order\r\n        queryParts.push('officeorder='+this.state.orderbyKey);\r\n        queryParts = queryParts.join('&');\r\n        let query = queryBase + queryParts;\r\n        let storageKey = `officesearch_${queryParts}`;\r\n        let storageOffices = JSON.parse(window.localStorage.getItem(storageKey));\r\n        let now = new Date().getTime();\r\n        if(storageOffices){\r\n            let date = storageOffices.time;\r\n            let diff = now - date;\r\n            diff = Math.floor(diff/1000/60/60/24); // get diff in days\r\n            if(diff < 1 && date > window.wpApiSettings.updateTime){\r\n                console.log('getting offices from localstorage');\r\n                console.log(query);\r\n                return this.handleOfficesQueryData(storageOffices.data, more);\r\n            } else{\r\n                window.localStorage.removeItem(storageKey);\r\n            }\r\n        }\r\n\r\n        console.log(`route: ${this.API_URL}${query}`);\r\n        return fetch(`${this.API_URL}${query}`,\r\n            {\r\n                    signal: this.signal,\r\n                }\r\n            )\r\n            .then((response) => {\r\n                    this.checkStatus(response);\r\n                    return response.json()\r\n                }\r\n            )\r\n            .then(data => {\r\n                console.log(data);\r\n                this.handleOfficesQueryData(data, more);\r\n                console.log('setting localstorage posts after REST')\r\n                let storageObject = {\r\n                    time: now,\r\n                    data: data\r\n                };\r\n                window.localStorage.setItem(storageKey, JSON.stringify(storageObject));\r\n\r\n            })\r\n            .catch(error => {\r\n                console.error(\"Error when fetching: \", error);\r\n            })\r\n    };\r\n\r\n\r\n    updateParentState(key, val){\r\n        if(typeof key === 'object' && key !== null){\r\n            // passing an object to change;\r\n            this.setState(key);\r\n        } else{\r\n            this.setState({\r\n                [key]: val,\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    updateFilterValue(obj){\r\n        console.log('updateFilterValue - trigger getOffices', obj)\r\n\r\n        // TODO: create a single object in state to run filters on. Use key value to set query parameters in fetch.\r\n\r\n        this.setState(\r\n            obj, () => {\r\n                this.getOffices();\r\n            }\r\n        );\r\n    }\r\n    clearFilter = () => {\r\n        let evt = new Event('clearOfficeFilter');\r\n        document.dispatchEvent(evt);\r\n        this.setState(\r\n            initialFilter, () => {\r\n                this.getOffices();\r\n            }\r\n        )\r\n    };\r\n\r\n    scrollReached(el, buffer) {\r\n        if(!el){\r\n            return;\r\n        }\r\n        let reached = (el.getBoundingClientRect().bottom - buffer) <= window.innerHeight;\r\n\r\n        return reached;\r\n    }\r\n\r\n\r\n    trackScrolling = (el) => {\r\n        //const wrappedElement = document.getElementById('post-list');\r\n        if (this.scrollReached(el, 1500 ) && this.state.loadingMore === false && this.state.loadedAll === false) {\r\n            this.getOffices(true)\r\n            //document.removeEventListener('scroll', this.trackScrolling);\r\n        }\r\n    };\r\n    setListScrollPosition(len){\r\n        this.setState({\r\n            listScrolled: len,\r\n        });\r\n    }\r\n\r\n    clearSingleOffice() {\r\n        this.setState({\r\n            post: {},\r\n        });\r\n    }\r\n    render(){\r\n        if(this.state.filterDataLoaded === false){\r\n            return <Loader/>\r\n        }\r\n        let officeList;\r\n        if(this.state.postsLoading === true){\r\n            officeList = ( <Loader />);\r\n        } else if(this.state.offices.length){\r\n            // TODO: move all \"loading\" logic to PostList so entire component does not reMount when filter is changed.\r\n            officeList = (\r\n                <React.Fragment>\r\n                    <OfficePostList\r\n                        loadingMore={this.state.loadingMore}\r\n                        offices={this.state.offices}\r\n                        listScrolled={this.state.listScrolled}\r\n                        trackScrolling={this.trackScrolling}\r\n                        scrollReached={this.scrollReached}\r\n                        setListScrollPosition={this.setListScrollPosition}\r\n                        user={this.state.user}\r\n                    />\r\n\r\n                </React.Fragment>\r\n        )\r\n        } else {\r\n            officeList = ( <NoPosts/>);\r\n        };\r\n\r\n        return (\r\n            <div className={\"app bbh-inner-section \"+ (this.state.filterDataLoaded === true ? 'all-loaded' : '')} id={\"office-app\"}>\r\n                <Router>\r\n                    {this.state.redirect &&\r\n                        <Redirect to={\"/office\"} to={{\r\n                            pathname: '/office',\r\n                            state: {redirect: false}\r\n                        }}/>\r\n                    }\r\n                    <Switch>\r\n\r\n                        <Route exact path={[this.OFFICE_URL, `${this.OFFICE_URL}page/**/`]} render={() =>\r\n                            <React.Fragment>\r\n                                <FilterForm\r\n                                    // methods\r\n                                    updateFilterValue={this.updateFilterValue}\r\n                                    updateParentState={this.updateParentState}\r\n                                    clearFilter={this.clearFilter}\r\n                                    getOffices={this.getOffices}\r\n\r\n                                    // post data\r\n                                    postsLoading={this.state.postsLoading}\r\n                                    postCount={this.state.postCount}\r\n                                    filterDataLoaded={this.state.filterDataLoaded}\r\n\r\n                                    // types\r\n                                    officeTypes={this.state.officeTypes}\r\n                                    chosenType={this.state.chosenType}\r\n                                    chosenTypeText={this.state.chosenTypeText}\r\n\r\n                                    // capacity\r\n                                    capacity={this.state.capacity}\r\n\r\n                                    // facilities\r\n                                    officeFacilities={this.state.officeFacilities}\r\n                                    chosenFacilities={this.state.chosenFacilities}\r\n                                    chosenFacilitiesText={this.state.chosenFacilitiesText}\r\n                                    chosenFacilitiesDefaultText={this.state.chosenFacilitiesDefaultText}\r\n\r\n                                    // cowork\r\n                                    coworkChecked={this.state.coworkChecked}\r\n\r\n                                    // price\r\n                                    minPrice={this.state.minPrice}\r\n                                    maxPrice={this.state.maxPrice}\r\n                                    minPriceDefault={this.state.minPriceDefault}\r\n                                    maxPriceDefault={this.state.maxPriceDefault}\r\n                                    priceChanged={this.state.priceChanged}\r\n\r\n                                    // orderby\r\n                                    orderbyKey={this.state.orderbyKey}\r\n                                    orderbyTitle={this.state.orderbyTitle}\r\n\r\n                                    // Periods\r\n                                    periods={this.periods}\r\n                                    selectedPeriod={this.state.selectedPeriod}\r\n\r\n                                    // Industries\r\n                                    industries={this.state.officeIndustries}\r\n                                    selectedIndustry={this.state.selectedIndustry}\r\n\r\n                                    // locations\r\n                                    officeLocations={this.state.officeLocations}\r\n                                    selectedLocations={this.state.selectedLocations}\r\n\r\n\r\n\r\n                                />\r\n                                <div className=\"container-fluid retina-max\">\r\n                                    {officeList}\r\n                                </div>\r\n                            </React.Fragment>\r\n\r\n                        }/>\r\n\r\n                        <Route exact path={`${this.OFFICE_URL}:slug`}  render={(props) =>\r\n                            <SinglePost\r\n                                key={props.match.params.slug}\r\n                                slug={props.match.params.slug}\r\n                                post={this.state.post}\r\n                                getPostBySlug={this.getPostBySlug}\r\n                                clearSingleOffice={this.clearSingleOffice}\r\n                                offices={this.state.offices}\r\n                                // Periods\r\n                                periods={this.periods}\r\n                                user={this.state.user}\r\n                            />\r\n                        }/>\r\n                        <Route exact path={\"\"} render={() =>\r\n                            <ShortFilter\r\n                                // methods\r\n                                updateFilterValue={this.updateFilterValue}\r\n                                updateParentState={this.updateParentState}\r\n                                clearFilter={this.clearFilter}\r\n\r\n                                // post data\r\n                                filterDataLoaded={this.state.filterDataLoaded}\r\n\r\n                                // types\r\n                                officeTypes={this.state.officeTypes}\r\n                                chosenType={this.state.chosenType}\r\n                                chosenTypeText={this.state.chosenTypeText}\r\n\r\n                                // capacity\r\n                                capacity={this.state.capacity}\r\n\r\n                                // cowork\r\n                                coworkChecked={this.state.coworkChecked}\r\n\r\n                                // locations\r\n                                officeLocations={this.state.officeLocations}\r\n                                selectedLocations={this.state.selectedLocations}\r\n\r\n                                />\r\n                        } />\r\n\r\n\r\n\r\n                    </Switch>\r\n\r\n\r\n                </Router>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default App;\r\n","// external\r\nimport React, {Component} from 'react';\r\nimport { BrowserRouter as Router, Route, Link} from 'react-router-dom';\r\n// Components\r\nimport OfficePostListItem from '../Components/OfficePostListItem';\r\nimport Loader from '../Components/Loader';\r\n\r\n// functions\r\nimport throttle from '../functions/throttle';\r\nimport Carousel, { Dots } from \"@brainhubeu/react-carousel\";\r\n\r\nclass OfficePostListMock extends Component {\r\n\tAPI_URL = process.env.REACT_APP_API_URL;\r\n\tOFFICE_URL = process.env.REACT_APP_OFFICE_URL;\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\toffices: [],\r\n\t\t\tuser: {\r\n\t\t\t\tloggedIn : window.wpApiSettings.loggedIn,\r\n\t\t\t\tid: window.wpApiSettings.id\r\n\t\t\t},\r\n\t\t\tcurrentSlide: 0,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t\tlet lazyLoadScroll = new Event('scroll');\r\n\t\twindow.dispatchEvent(lazyLoadScroll);\r\n\t\tlet ids = this.props.ids;\r\n\t\tlet storageString = 'flex_offices_'+ids;\r\n\t\tlet storageItem = JSON.parse(window.localStorage.getItem(storageString));\r\n\t\tlet now = new Date().getTime();\r\n\t\tif(storageItem){\r\n\t\t\tlet date = storageItem.time;\r\n\t\t\tlet diff = now - date;\r\n\t\t\tdiff = Math.floor(diff/1000/60/60/24); // get diff in days\r\n\t\t\tif(diff < 1){\r\n\t\t\t\tconsole.log('getting flex offices from localstorage - '+storageString);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\toffices: storageItem.posts\r\n\t\t\t\t});\r\n\t\t\t} else{\r\n\t\t\t\twindow.localStorage.removeItem(storageString);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tfetch(`${this.API_URL}officely/v2/offices?ids=${ids}`)\r\n\t\t.then((response) => {\r\n\t\t\t\treturn response.json()\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then(data => {\r\n\t\t\tconsole.log(data);\r\n\t\t\tif(data.posts.length){\r\n\t\t\t\tlet stateObj = {\r\n\t\t\t\t\toffices: data.posts,\r\n\t\t\t\t};\r\n\t\t\t\tthis.setState(stateObj);\r\n\t\t\t\tlet storageObject = {\r\n\t\t\t\t\ttime: now,\r\n\t\t\t\t\tposts: data.posts\r\n\t\t\t\t};\r\n\r\n\t\t\t\twindow.localStorage.setItem(storageString, JSON.stringify(storageObject));\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error(\"Error when fetching: \", error);\r\n\t\t})\r\n\t}\r\n\tpostClicked = (e) => {\r\n\t\t//e.stopImmediatePropagation();\r\n\t\te.preventDefault();\r\n\t\tconsole.log(e.currentTarget);\r\n\t\twindow.location.href=e.currentTarget.getAttribute('href');\r\n\r\n\t}\r\n\tonCarouselChange = value => this.setState({ currentSlide: parseInt(value) });\r\n\tleftArrow = (slides, perPage) => {\r\n\t\tif(slides > perPage){\r\n\t\t\treturn <span className=\"slide-arrow slide-prev icon icomoon icon-arrow-left\" />\r\n\t\t} else{\r\n\t\t\treturn '';\r\n\t\t}\r\n\t};\r\n\trightArrow = (slides, perPage) => {\r\n\t\tif(slides > perPage){\r\n\t\t\treturn <span className=\"slide-arrow slide-next icon icomoon icon-arrow-right\" />\r\n\t\t} else{\r\n\t\t\treturn '';\r\n\t\t}\r\n\t};\r\n\trender(){\r\n\t\tconst offices = this.state.offices || [];\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t<Router>\r\n\t\t\t\t<div className={\"office-list\"} >\r\n\t\t\t\t\t<Carousel\r\n\t\t\t\t\t\tinfinite={false}\r\n\t\t\t\t\t\t//arrowLeft={this.leftArrow(offices.length, 4)}\r\n\t\t\t\t\t\t//arrowRight={this.rightArrow(offices.length, 4)}\r\n\t\t\t\t\t\taddArrowClickHandler\r\n\t\t\t\t\t\tvalue={this.state.currentSlide}\r\n\t\t\t\t\t\tonChange={this.onCarouselChange}\r\n\t\t\t\t\t\tdraggable={offices.length > 4}\r\n\t\t\t\t\t\tslidesPerPage={4}\r\n\t\t\t\t\t\tslidesPerScroll={4}\r\n\t\t\t\t\t\tbreakpoints={{\r\n\t\t\t\t\t\t\t1367:{\r\n\t\t\t\t\t\t\t\tinfinite: offices.length > 3,\r\n\t\t\t\t\t\t\t\tslidesPerPage: 3,\r\n\t\t\t\t\t\t\t\t//arrowLeft: this.leftArrow(offices.length, 3),\r\n\t\t\t\t\t\t\t\t//arrowRight: this.rightArrow(offices.length, 3),\r\n\t\t\t\t\t\t\t\t//centered: (offices.length > 3),\r\n\t\t\t\t\t\t\t\tdraggable: true\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t441:{\r\n\t\t\t\t\t\t\t\tslidesPerPage: 1.5,\r\n\t\t\t\t\t\t\t\tcentered: true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{offices.map((post) =>\r\n\t\t\t\t\t\t\t<OfficePostListItem\r\n\t\t\t\t\t\t\t\tnoLink={true}\r\n\t\t\t\t\t\t\t\tkey={post.ID}\r\n\t\t\t\t\t\t\t\tpost={post}\r\n\t\t\t\t\t\t\t\tuser={this.state.user}\r\n\t\t\t\t\t\t\t\tpostClicked={this.postClicked}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t</Carousel>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</Router>\r\n\t\t\t</React.Fragment>\r\n\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nexport default OfficePostListMock;\r\n","// compatibility\nimport 'promise-polyfill/src/polyfill';\nimport 'unfetch/polyfill';\nimport 'react-app-polyfill/ie9';\nimport 'react-app-polyfill/ie11';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\nimport OfficePostListMock from \"./Flexibles/OfficePostListMock\";\n\nif(document.getElementById('root')){\n\tReactDOM.render(<App  />, document.getElementById('root'));\n}\n\n\nlet flexibles = document.getElementsByClassName('office-list-flexible');\nconsole.log(flexibles);\n\nfor (let i = 0; i < flexibles.length; i++) {\n\tlet el = flexibles[i];\n\tlet ids = el.getAttribute('data-office-ids');\n\tReactDOM.render(<OfficePostListMock ids={ids}/>, el);\n}\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}